(()=>{var e={};e.id=974,e.ids=[974],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},4282:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>f,pages:()=>l,routeModule:()=>d,tree:()=>c});var n=r(260),i=r(8203),o=r(5155),s=r.n(o),a=r(7292),u={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>a[e]);r.d(t,u);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7890)),"/workspaces/fal-ai-image-realtime/app/page.js"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,9019)),"/workspaces/fal-ai-image-realtime/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["/workspaces/fal-ai-image-realtime/app/page.js"],f={require:r,loadChunk:()=>Promise.resolve()},d=new n.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1551:(e,t,r)=>{Promise.resolve().then(r.bind(r,7890))},9799:(e,t,r)=>{Promise.resolve().then(r.bind(r,7782))},8119:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3219,23)),Promise.resolve().then(r.t.bind(r,4863,23)),Promise.resolve().then(r.t.bind(r,5155,23)),Promise.resolve().then(r.t.bind(r,802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,8530,23)),Promise.resolve().then(r.t.bind(r,8921,23))},1263:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6959,23)),Promise.resolve().then(r.t.bind(r,3875,23)),Promise.resolve().then(r.t.bind(r,8903,23)),Promise.resolve().then(r.t.bind(r,7174,23)),Promise.resolve().then(r.t.bind(r,4178,23)),Promise.resolve().then(r.t.bind(r,7190,23)),Promise.resolve().then(r.t.bind(r,1365,23))},1376:()=>{},4928:()=>{},7782:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(5512),i=r(8009),o=r(8854),s=r(3864),a=r.n(s);o.fal.config({proxyUrl:"/api/proxy"});let u={_force_msgpack:new Uint8Array([]),image_size:"square_hd",num_inference_steps:2,num_images:1,enable_safety_checker:!0,sync_mode:!0};function c(){return Math.floor(1e7*Math.random()).toFixed(0)}let l=()=>{let[e,t]=(0,i.useState)(""),[r,s]=(0,i.useState)(c()),[l,f]=(0,i.useState)(""),[d,p]=(0,i.useState)(null),h=o.fal.realtime.connect("fal-ai/fast-lightning-sdxl",{connectionKey:"lightning-sdxl",throttleInterval:64,onResult:e=>{console.log(e);let t=new Blob([e.images[0].content],{type:"image/jpeg"});f(URL.createObjectURL(t)),p(e.timings.inference)},onError:e=>{console.error(e)}}),m=(0,i.useRef)(),g=e=>{m.current&&clearTimeout(m.current),t(e);let n={...u,prompt:e,seed:r?Number(r):Number(c())};m.current=setTimeout(()=>{h.send(n)},500)};return(0,n.jsxs)("main",{children:[(0,n.jsx)("h1",{children:"Real-time image generation by AI"}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{type:"text",placeholder:"Enter text to generate an image",name:"prompt",value:e,onChange:e=>g(e.target.value)})}),d&&(0,n.jsxs)("p",{children:["Inference Time: ",(1e3*d).toFixed(0),"ms - Seed: ",r]}),l&&(0,n.jsx)(a(),{src:l,width:1024,height:1024,style:{width:"100%",height:"auto"},alt:"realtime-image",priority:!0}),(0,n.jsx)("h4",{children:e})]})}},1902:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return w}});let n=r(5488),i=r(1063),o=r(5512),s=i._(r(8009)),a=n._(r(5740)),u=n._(r(9153)),c=r(2034),l=r(4653),f=r(8156);r(6831);let d=r(4055),p=n._(r(1628)),h=r(3727),m={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function g(e,t,r,n,i,o,s){let a=null==e?void 0:e.src;e&&e["data-loaded-src"]!==a&&(e["data-loaded-src"]=a,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&i(!0),null==r?void 0:r.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let n=!1,i=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>n,isPropagationStopped:()=>i,persist:()=>{},preventDefault:()=>{n=!0,t.preventDefault()},stopPropagation:()=>{i=!0,t.stopPropagation()}})}(null==n?void 0:n.current)&&n.current(e)}}))}function y(e){return s.use?{fetchPriority:e}:{fetchpriority:e}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let v=(0,s.forwardRef)((e,t)=>{let{src:r,srcSet:n,sizes:i,height:a,width:u,decoding:c,className:l,style:f,fetchPriority:d,placeholder:p,loading:m,unoptimized:v,fill:b,onLoadRef:w,onLoadingCompleteRef:x,setBlurComplete:E,setShowAltText:_,sizesInput:P,onLoad:S,onError:O,...j}=e,U=(0,s.useCallback)(e=>{e&&(O&&(e.src=e.src),e.complete&&g(e,p,w,x,E,v,P))},[r,p,w,x,E,O,v,P]),R=(0,h.useMergedRef)(t,U);return(0,o.jsx)("img",{...j,...y(d),loading:m,width:u,height:a,decoding:c,"data-nimg":b?"fill":"1",className:l,style:f,sizes:i,srcSet:n,src:r,ref:R,onLoad:e=>{g(e.currentTarget,p,w,x,E,v,P)},onError:e=>{_(!0),"empty"!==p&&E(!0),O&&O(e)}})});function b(e){let{isAppRouter:t,imgAttributes:r}=e,n={as:"image",imageSrcSet:r.srcSet,imageSizes:r.sizes,crossOrigin:r.crossOrigin,referrerPolicy:r.referrerPolicy,...y(r.fetchPriority)};return t&&a.default.preload?(a.default.preload(r.src,n),null):(0,o.jsx)(u.default,{children:(0,o.jsx)("link",{rel:"preload",href:r.srcSet?void 0:r.src,...n},"__nimg-"+r.src+r.srcSet+r.sizes)})}let w=(0,s.forwardRef)((e,t)=>{let r=(0,s.useContext)(d.RouterContext),n=(0,s.useContext)(f.ImageConfigContext),i=(0,s.useMemo)(()=>{var e;let t=m||n||l.imageConfigDefault,r=[...t.deviceSizes,...t.imageSizes].sort((e,t)=>e-t),i=t.deviceSizes.sort((e,t)=>e-t),o=null==(e=t.qualities)?void 0:e.sort((e,t)=>e-t);return{...t,allSizes:r,deviceSizes:i,qualities:o}},[n]),{onLoad:a,onLoadingComplete:u}=e,h=(0,s.useRef)(a);(0,s.useEffect)(()=>{h.current=a},[a]);let g=(0,s.useRef)(u);(0,s.useEffect)(()=>{g.current=u},[u]);let[y,w]=(0,s.useState)(!1),[x,E]=(0,s.useState)(!1),{props:_,meta:P}=(0,c.getImgProps)(e,{defaultLoader:p.default,imgConf:i,blurComplete:y,showAltText:x});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(v,{..._,unoptimized:P.unoptimized,placeholder:P.placeholder,fill:P.fill,onLoadRef:h,onLoadingCompleteRef:g,setBlurComplete:w,setShowAltText:E,sizesInput:e.sizes,ref:t}),P.priority?(0,o.jsx)(b,{isAppRouter:!r,imgAttributes:_}):null]})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3727:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return i}});let n=r(8009);function i(e,t){let r=(0,n.useRef)(()=>{}),i=(0,n.useRef)(()=>{});return(0,n.useMemo)(()=>e&&t?n=>{null===n?(r.current(),i.current()):(r.current=o(e,n),i.current=o(t,n))}:e||t,[e,t])}function o(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2782:(e,t,r)=>{"use strict";e.exports=r(8104).vendored.contexts.AmpContext},6302:(e,t,r)=>{"use strict";e.exports=r(8104).vendored.contexts.HeadManagerContext},8156:(e,t,r)=>{"use strict";e.exports=r(8104).vendored.contexts.ImageConfigContext},4055:(e,t,r)=>{"use strict";e.exports=r(8104).vendored.contexts.RouterContext},2677:(e,t)=>{"use strict";function r(e){let{ampFirst:t=!1,hybrid:r=!1,hasQuery:n=!1}=void 0===e?{}:e;return t||r&&n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return r}})},2034:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return a}}),r(6831);let n=r(8337),i=r(4653);function o(e){return void 0!==e.default}function s(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function a(e,t){var r,a;let u,c,l,{src:f,sizes:d,unoptimized:p=!1,priority:h=!1,loading:m,className:g,quality:y,width:v,height:b,fill:w=!1,style:x,overrideSrc:E,onLoad:_,onLoadingComplete:P,placeholder:S="empty",blurDataURL:O,fetchPriority:j,decoding:U="async",layout:R,objectFit:A,objectPosition:T,lazyBoundary:I,lazyRoot:M,...C}=e,{imgConf:k,showAltText:$,blurComplete:L,defaultLoader:N}=t,B=k||i.imageConfigDefault;if("allSizes"in B)u=B;else{let e=[...B.deviceSizes,...B.imageSizes].sort((e,t)=>e-t),t=B.deviceSizes.sort((e,t)=>e-t),n=null==(r=B.qualities)?void 0:r.sort((e,t)=>e-t);u={...B,allSizes:e,deviceSizes:t,qualities:n}}if(void 0===N)throw Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config");let D=C.loader||N;delete C.loader,delete C.srcSet;let z="__next_img_default"in D;if(z){if("custom"===u.loader)throw Error('Image with src "'+f+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{let e=D;D=t=>{let{config:r,...n}=t;return e(n)}}if(R){"fill"===R&&(w=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[R];e&&(x={...x,...e});let t={responsive:"100vw",fill:"100vw"}[R];t&&!d&&(d=t)}let F="",q=s(v),W=s(b);if((a=f)&&"object"==typeof a&&(o(a)||void 0!==a.src)){let e=o(f)?f.default:f;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e));if(!e.height||!e.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e));if(c=e.blurWidth,l=e.blurHeight,O=O||e.blurDataURL,F=e.src,!w){if(q||W){if(q&&!W){let t=q/e.width;W=Math.round(e.height*t)}else if(!q&&W){let t=W/e.height;q=Math.round(e.width*t)}}else q=e.width,W=e.height}}let H=!h&&("lazy"===m||void 0===m);(!(f="string"==typeof f?f:F)||f.startsWith("data:")||f.startsWith("blob:"))&&(p=!0,H=!1),u.unoptimized&&(p=!0),z&&!u.dangerouslyAllowSVG&&f.split("?",1)[0].endsWith(".svg")&&(p=!0);let K=s(y),V=Object.assign(w?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:A,objectPosition:T}:{},$?{}:{color:"transparent"},x),G=L||"empty"===S?null:"blur"===S?'url("data:image/svg+xml;charset=utf-8,'+(0,n.getImageBlurSvg)({widthInt:q,heightInt:W,blurWidth:c,blurHeight:l,blurDataURL:O||"",objectFit:V.objectFit})+'")':'url("'+S+'")',X=G?{backgroundSize:V.objectFit||"cover",backgroundPosition:V.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:G}:{},Q=function(e){let{config:t,src:r,unoptimized:n,width:i,quality:o,sizes:s,loader:a}=e;if(n)return{src:r,srcSet:void 0,sizes:void 0};let{widths:u,kind:c}=function(e,t,r){let{deviceSizes:n,allSizes:i}=e;if(r){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let n;n=e.exec(r);n)t.push(parseInt(n[2]));if(t.length){let e=.01*Math.min(...t);return{widths:i.filter(t=>t>=n[0]*e),kind:"w"}}return{widths:i,kind:"w"}}return"number"!=typeof t?{widths:n,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>i.find(t=>t>=e)||i[i.length-1]))],kind:"x"}}(t,i,s),l=u.length-1;return{sizes:s||"w"!==c?s:"100vw",srcSet:u.map((e,n)=>a({config:t,src:r,quality:o,width:e})+" "+("w"===c?e:n+1)+c).join(", "),src:a({config:t,src:r,quality:o,width:u[l]})}}({config:u,src:f,unoptimized:p,width:q,quality:K,sizes:d,loader:D});return{props:{...C,loading:H?"lazy":m,fetchPriority:j,width:q,height:W,decoding:U,className:g,style:{...V,...X},sizes:Q.sizes,srcSet:Q.srcSet,src:E||Q.src},meta:{unoptimized:p,priority:h,placeholder:S,fill:w}}}},9153:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return m},defaultHead:function(){return f}});let n=r(5488),i=r(1063),o=r(5512),s=i._(r(8009)),a=n._(r(7440)),u=r(2782),c=r(6302),l=r(2677);function f(e){void 0===e&&(e=!1);let t=[(0,o.jsx)("meta",{charSet:"utf-8"},"charset")];return e||t.push((0,o.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),t}function d(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===s.default.Fragment?e.concat(s.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}r(6831);let p=["name","httpEquiv","charSet","itemProp"];function h(e,t){let{inAmpMode:r}=t;return e.reduce(d,[]).reverse().concat(f(r).reverse()).filter(function(){let e=new Set,t=new Set,r=new Set,n={};return i=>{let o=!0,s=!1;if(i.key&&"number"!=typeof i.key&&i.key.indexOf("$")>0){s=!0;let t=i.key.slice(i.key.indexOf("$")+1);e.has(t)?o=!1:e.add(t)}switch(i.type){case"title":case"base":t.has(i.type)?o=!1:t.add(i.type);break;case"meta":for(let e=0,t=p.length;e<t;e++){let t=p[e];if(i.props.hasOwnProperty(t)){if("charSet"===t)r.has(t)?o=!1:r.add(t);else{let e=i.props[t],r=n[t]||new Set;("name"!==t||!s)&&r.has(e)?o=!1:(r.add(e),n[t]=r)}}}}return o}}()).reverse().map((e,t)=>{let n=e.key||t;if(process.env.__NEXT_OPTIMIZE_FONTS&&!r&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(t=>e.props.href.startsWith(t))){let t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,s.default.cloneElement(e,t)}return s.default.cloneElement(e,{key:n})})}let m=function(e){let{children:t}=e,r=(0,s.useContext)(u.AmpStateContext),n=(0,s.useContext)(c.HeadManagerContext);return(0,o.jsx)(a.default,{reduceComponentsToState:h,headManager:n,inAmpMode:(0,l.isInAmpMode)(r),children:t})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8337:(e,t)=>{"use strict";function r(e){let{widthInt:t,heightInt:r,blurWidth:n,blurHeight:i,blurDataURL:o,objectFit:s}=e,a=n?40*n:t,u=i?40*i:r,c=a&&u?"viewBox='0 0 "+a+" "+u+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+c+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(c?"none":"contain"===s?"xMidYMid":"cover"===s?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+o+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return r}})},4653:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{VALID_LOADERS:function(){return r},imageConfigDefault:function(){return n}});let r=["default","imgix","cloudinary","akamai","custom"],n={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}},3864:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return u},getImageProps:function(){return a}});let n=r(5488),i=r(2034),o=r(1902),s=n._(r(1628));function a(e){let{props:t}=(0,i.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let u=o.Image},1628:(e,t)=>{"use strict";function r(e){var t;let{config:r,src:n,width:i,quality:o}=e,s=o||(null==(t=r.qualities)?void 0:t.reduce((e,t)=>Math.abs(t-75)<Math.abs(e-75)?t:e))||75;return r.path+"?url="+encodeURIComponent(n)+"&w="+i+"&q="+s+(n.startsWith("/_next/static/media/"),"")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}}),r.__next_img_default=!0;let n=r},7440:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let n=r(8009),i=()=>{},o=()=>{};function s(e){var t;let{headManager:r,reduceComponentsToState:s}=e;function a(){if(r&&r.mountedInstances){let t=n.Children.toArray(Array.from(r.mountedInstances).filter(Boolean));r.updateHead(s(t,e))}}return null==r||null==(t=r.mountedInstances)||t.add(e.children),a(),i(()=>{var t;return null==r||null==(t=r.mountedInstances)||t.add(e.children),()=>{var t;null==r||null==(t=r.mountedInstances)||t.delete(e.children)}}),i(()=>(r&&(r._pendingUpdate=a),()=>{r&&(r._pendingUpdate=a)})),o(()=>(r&&r._pendingUpdate&&(r._pendingUpdate(),r._pendingUpdate=null),()=>{r&&r._pendingUpdate&&(r._pendingUpdate(),r._pendingUpdate=null)})),null}},6624:(e,t)=>{"use strict";function r(e){return{enumerable:!0,value:e}}function n(e){return{enumerable:!0,writable:!0,value:e}}Object.defineProperty(t,"__esModule",{value:!0});let i={},o=()=>!0,s=()=>({}),a=e=>e,u=(e,t,r,n)=>e.apply(r,n)&&t.apply(r,n),c=(e,t,r,[n,i])=>t.call(r,e.call(r,n,i),i),l=(e,t)=>Object.freeze(Object.create(e,t));function f(e,t,r){return e.reduce((e,t)=>function(...n){return r(e,t,this,n)},t)}function d(e){return l(this,{fn:r(e)})}let p={},h=d.bind(p),m={},g=d.bind(m);function y(e,t){return t.filter(t=>e.isPrototypeOf(t))}function v(e,t,...n){let i=f(y(m,n).map(e=>e.fn),o,u),s=f(y(p,n).map(e=>e.fn),a,c);return l(this,{from:r(e),to:r(t),guards:r(i),reducers:r(s)})}let b={},w={},x=v.bind(b),E=v.bind(w,null);function _(e,t,r){return R(t,e,r,this.immediates)||e}function P(e){let t=new Map;for(let r of e)t.has(r.from)||t.set(r.from,[]),t.get(r.from).push(r);return t}let S={enter:a},O={enter(e,t,n){let i=this.fn.call(t,t.context,n);return U.isPrototypeOf(i)?l(j,{machine:r(i),transitions:r(this.transitions)}).enter(e,t,n):(i.then(e=>t.send({type:"done",data:e})).catch(e=>t.send({type:"error",error:e})),e)}},j={enter(e,t,r){if(t.child=T(this.machine,e=>{t.onChange(e),t.child==e&&e.machine.state.value.final&&(delete t.child,t.send({type:"done",data:e.context}))},t.context,r),t.child.machine.state.value.final){let r=t.child.context;return delete t.child,R(t,e,{type:"done",data:r},this.transitions.get("done"))}return e}},U={get state(){return{name:this.current,value:this.states[this.current]}}};function R(e,t,n,o){let{context:s}=e;for(let{to:a,guards:u,reducers:c}of o)if(u(s,n)){e.context=c.call(e,s,n);let o=t.original||t,u=l(o,{current:r(a),original:{value:o}});return i._onEnter&&i._onEnter(t,a,e.context,s,n),u.state.value.enter(u,e,n)}}let A={send(e){this.machine=function(e,t){let r=t.type||t,{machine:n}=e,{value:o,name:s}=n.state;return o.transitions.has(r)?R(e,n,t,o.transitions.get(r))||n:(i._send&&i._send(r,s),n)}(this,e),this.onChange(this)}};function T(e,t,i,o){let s=Object.create(A,{machine:n(e),context:n(e.context(i,o)),onChange:r(t)});return s.send=s.send.bind(s),s.machine=s.machine.state.value.enter(s.machine,s,o),s}t.action=e=>h((t,r)=>!!~e(t,r)&&t),t.createMachine=function(e,t,n=s){return"string"!=typeof e&&(n=t||s,e=Object.keys(t=e)[0]),i._create&&i._create(e,t),l(U,{context:r(n),current:r(e),states:r(t)})},t.d=i,t.guard=g,t.immediate=E,t.interpret=T,t.invoke=function(e,...t){let n=r(P(t));return U.isPrototypeOf(e)?l(j,{machine:r(e),transitions:n}):l(O,{fn:r(e),transitions:n})},t.reduce=h,t.state=function(...e){let t=y(b,e),n=y(w,e),i={final:r(0===e.length),transitions:r(P(t))};return n.length&&(i.immediates=r(n),i.enter=r(_)),l(S,i)},t.transition=x},9019:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>u});var n=r(2740),i=r(1795),o=r.n(i),s=r(9767),a=r.n(s);r(2704);let u={title:"AI image generation",description:"Real-time AI image generation"};function c({children:e}){return(0,n.jsx)("html",{lang:"pt-br",children:(0,n.jsx)("body",{className:`${o().variable} ${a().variable}`,children:e})})}},7890:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspaces/fal-ai-image-realtime/app/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspaces/fal-ai-image-realtime/app/page.js","default")},5852:e=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var t={};(()=>{t.parse=function(t,r){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var i={},o=t.split(n),s=(r||{}).decode||e,a=0;a<o.length;a++){var u=o[a],c=u.indexOf("=");if(!(c<0)){var l=u.substr(0,c).trim(),f=u.substr(++c,u.length).trim();'"'==f[0]&&(f=f.slice(1,-1)),void 0==i[l]&&(i[l]=function(e,t){try{return t(e)}catch(t){return e}}(f,s))}}return i},t.serialize=function(e,t,n){var o=n||{},s=o.encode||r;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var a=s(t);if(a&&!i.test(a))throw TypeError("argument val is invalid");var u=e+"="+a;if(null!=o.maxAge){var c=o.maxAge-0;if(isNaN(c)||!isFinite(c))throw TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(c)}if(o.domain){if(!i.test(o.domain))throw TypeError("option domain is invalid");u+="; Domain="+o.domain}if(o.path){if(!i.test(o.path))throw TypeError("option path is invalid");u+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw TypeError("option expires is invalid");u+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(u+="; HttpOnly"),o.secure&&(u+="; Secure"),o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return u};var e=decodeURIComponent,r=encodeURIComponent,n=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/})(),e.exports=t})()},8577:e=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var t={};(()=>{function e(e,t){void 0===t&&(t={});for(var r=function(e){for(var t=[],r=0;r<e.length;){var n=e[r];if("*"===n||"+"===n||"?"===n){t.push({type:"MODIFIER",index:r,value:e[r++]});continue}if("\\"===n){t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});continue}if("{"===n){t.push({type:"OPEN",index:r,value:e[r++]});continue}if("}"===n){t.push({type:"CLOSE",index:r,value:e[r++]});continue}if(":"===n){for(var i="",o=r+1;o<e.length;){var s=e.charCodeAt(o);if(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||95===s){i+=e[o++];continue}break}if(!i)throw TypeError("Missing parameter name at "+r);t.push({type:"NAME",index:r,value:i}),r=o;continue}if("("===n){var a=1,u="",o=r+1;if("?"===e[o])throw TypeError('Pattern cannot start with "?" at '+o);for(;o<e.length;){if("\\"===e[o]){u+=e[o++]+e[o++];continue}if(")"===e[o]){if(0==--a){o++;break}}else if("("===e[o]&&(a++,"?"!==e[o+1]))throw TypeError("Capturing groups are not allowed at "+o);u+=e[o++]}if(a)throw TypeError("Unbalanced pattern at "+r);if(!u)throw TypeError("Missing pattern at "+r);t.push({type:"PATTERN",index:r,value:u}),r=o;continue}t.push({type:"CHAR",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}(e),n=t.prefixes,o=void 0===n?"./":n,s="[^"+i(t.delimiter||"/#?")+"]+?",a=[],u=0,c=0,l="",f=function(e){if(c<r.length&&r[c].type===e)return r[c++].value},d=function(e){var t=f(e);if(void 0!==t)return t;var n=r[c];throw TypeError("Unexpected "+n.type+" at "+n.index+", expected "+e)},p=function(){for(var e,t="";e=f("CHAR")||f("ESCAPED_CHAR");)t+=e;return t};c<r.length;){var h=f("CHAR"),m=f("NAME"),g=f("PATTERN");if(m||g){var y=h||"";-1===o.indexOf(y)&&(l+=y,y=""),l&&(a.push(l),l=""),a.push({name:m||u++,prefix:y,suffix:"",pattern:g||s,modifier:f("MODIFIER")||""});continue}var v=h||f("ESCAPED_CHAR");if(v){l+=v;continue}if(l&&(a.push(l),l=""),f("OPEN")){var y=p(),b=f("NAME")||"",w=f("PATTERN")||"",x=p();d("CLOSE"),a.push({name:b||(w?u++:""),pattern:b&&!w?s:w,prefix:y,suffix:x,modifier:f("MODIFIER")||""});continue}d("END")}return a}function r(e,t){void 0===t&&(t={});var r=o(t),n=t.encode,i=void 0===n?function(e){return e}:n,s=t.validate,a=void 0===s||s,u=e.map(function(e){if("object"==typeof e)return RegExp("^(?:"+e.pattern+")$",r)});return function(t){for(var r="",n=0;n<e.length;n++){var o=e[n];if("string"==typeof o){r+=o;continue}var s=t?t[o.name]:void 0,c="?"===o.modifier||"*"===o.modifier,l="*"===o.modifier||"+"===o.modifier;if(Array.isArray(s)){if(!l)throw TypeError('Expected "'+o.name+'" to not repeat, but got an array');if(0===s.length){if(c)continue;throw TypeError('Expected "'+o.name+'" to not be empty')}for(var f=0;f<s.length;f++){var d=i(s[f],o);if(a&&!u[n].test(d))throw TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'", but got "'+d+'"');r+=o.prefix+d+o.suffix}continue}if("string"==typeof s||"number"==typeof s){var d=i(String(s),o);if(a&&!u[n].test(d))throw TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but got "'+d+'"');r+=o.prefix+d+o.suffix;continue}if(!c){var p=l?"an array":"a string";throw TypeError('Expected "'+o.name+'" to be '+p)}}return r}}function n(e,t,r){void 0===r&&(r={});var n=r.decode,i=void 0===n?function(e){return e}:n;return function(r){var n=e.exec(r);if(!n)return!1;for(var o=n[0],s=n.index,a=Object.create(null),u=1;u<n.length;u++)!function(e){if(void 0!==n[e]){var r=t[e-1];"*"===r.modifier||"+"===r.modifier?a[r.name]=n[e].split(r.prefix+r.suffix).map(function(e){return i(e,r)}):a[r.name]=i(n[e],r)}}(u);return{path:o,index:s,params:a}}}function i(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function o(e){return e&&e.sensitive?"":"i"}function s(e,t,r){void 0===r&&(r={});for(var n=r.strict,s=void 0!==n&&n,a=r.start,u=r.end,c=r.encode,l=void 0===c?function(e){return e}:c,f="["+i(r.endsWith||"")+"]|$",d="["+i(r.delimiter||"/#?")+"]",p=void 0===a||a?"^":"",h=0;h<e.length;h++){var m=e[h];if("string"==typeof m)p+=i(l(m));else{var g=i(l(m.prefix)),y=i(l(m.suffix));if(m.pattern){if(t&&t.push(m),g||y){if("+"===m.modifier||"*"===m.modifier){var v="*"===m.modifier?"?":"";p+="(?:"+g+"((?:"+m.pattern+")(?:"+y+g+"(?:"+m.pattern+"))*)"+y+")"+v}else p+="(?:"+g+"("+m.pattern+")"+y+")"+m.modifier}else p+="("+m.pattern+")"+m.modifier}else p+="(?:"+g+y+")"+m.modifier}}if(void 0===u||u)s||(p+=d+"?"),p+=r.endsWith?"(?="+f+")":"$";else{var b=e[e.length-1],w="string"==typeof b?d.indexOf(b[b.length-1])>-1:void 0===b;s||(p+="(?:"+d+"(?="+f+"))?"),w||(p+="(?="+d+"|"+f+")")}return new RegExp(p,o(r))}function a(t,r,n){return t instanceof RegExp?function(e,t){if(!t)return e;var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:"",suffix:"",modifier:"",pattern:""});return e}(t,r):Array.isArray(t)?RegExp("(?:"+t.map(function(e){return a(e,r,n).source}).join("|")+")",o(n)):s(e(t,n),r,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=e,t.compile=function(t,n){return r(e(t,n),n)},t.tokensToFunction=r,t.match=function(e,t){var r=[];return n(a(e,r,t),r,t)},t.regexpToFunction=n,t.tokensToRegexp=s,t.pathToRegexp=a})(),e.exports=t})()},8077:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fillMetadataSegment:function(){return d},normalizeMetadataPageToRoute:function(){return h},normalizeMetadataRoute:function(){return p}});let n=r(9177),i=function(e){return e&&e.__esModule?e:{default:e}}(r(8130)),o=r(8654),s=r(3960),a=r(3171),u=r(2045),c=r(8977),l=r(8758);function f(e){let t=i.default.dirname(e);if(e.endsWith("/sitemap"))return"";let r="";return t.split("/").some(e=>(0,l.isGroupSegment)(e)||(0,l.isParallelRouteSegment)(e))&&(r=(0,a.djb2Hash)(t).toString(36).slice(0,6)),r}function d(e,t,r){let n=(0,u.normalizeAppPath)(e),a=(0,s.getNamedRouteRegex)(n,!1),l=(0,o.interpolateDynamicPath)(n,t,a),{name:d,ext:p}=i.default.parse(r),h=f(i.default.posix.join(e,d)),m=h?`-${h}`:"";return(0,c.normalizePathSep)(i.default.join(l,`${d}${m}${p}`))}function p(e){if(!(0,n.isMetadataRoute)(e))return e;let t=e,r="";if("/robots"===e?t+=".txt":"/manifest"===e?t+=".webmanifest":r=f(e),!t.endsWith("/route")){let{dir:e,name:n,ext:o}=i.default.parse(t);t=i.default.posix.join(e,`${n}${r?`-${r}`:""}${o}`,"route")}return t}function h(e,t){let r=e.endsWith("/route"),n=r?e.slice(0,-6):e,i=n.endsWith("/sitemap")?".xml":"";return(t?`${n}/[__metadata_id__]`:`${n}${i}`)+(r?"/route":"")}},9177:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{STATIC_METADATA_IMAGES:function(){return i},getExtensionRegexString:function(){return s},isMetadataRoute:function(){return l},isMetadataRouteFile:function(){return a},isStaticMetadataRoute:function(){return c},isStaticMetadataRouteFile:function(){return u}});let n=r(8977),i={icon:{filename:"icon",extensions:["ico","jpg","jpeg","png","svg"]},apple:{filename:"apple-icon",extensions:["jpg","jpeg","png"]},favicon:{filename:"favicon",extensions:["ico"]},openGraph:{filename:"opengraph-image",extensions:["jpg","jpeg","png","gif"]},twitter:{filename:"twitter-image",extensions:["jpg","jpeg","png","gif"]}},o=["js","jsx","ts","tsx"],s=(e,t)=>t?`(?:\\.(${e.join("|")})|((\\[\\])?\\.(${t.join("|")})))`:`\\.(?:${e.join("|")})`;function a(e,t,r){let o=[RegExp(`^[\\\\/]robots${r?`${s(t.concat("txt"),null)}$`:""}`),RegExp(`^[\\\\/]manifest${r?`${s(t.concat("webmanifest","json"),null)}$`:""}`),RegExp("^[\\\\/]favicon\\.ico$"),RegExp(`[\\\\/]sitemap${r?`${s(["xml"],t)}$`:""}`),RegExp(`[\\\\/]${i.icon.filename}\\d?${r?`${s(i.icon.extensions,t)}$`:""}`),RegExp(`[\\\\/]${i.apple.filename}\\d?${r?`${s(i.apple.extensions,t)}$`:""}`),RegExp(`[\\\\/]${i.openGraph.filename}\\d?${r?`${s(i.openGraph.extensions,t)}$`:""}`),RegExp(`[\\\\/]${i.twitter.filename}\\d?${r?`${s(i.twitter.extensions,t)}$`:""}`)],a=(0,n.normalizePathSep)(e);return o.some(e=>e.test(a))}function u(e){return a(e,[],!0)}function c(e){return"/robots"===e||"/manifest"===e||u(e)}function l(e){let t=e.replace(/^\/?app\//,"").replace(/\/route$/,"");return"/"!==t[0]&&(t="/"+t),!t.endsWith("/page")&&a(t,o,!1)}},4713:(e,t,r)=>{"use strict";function n(e){return function(){let{cookie:t}=e;if(!t)return{};let{parse:n}=r(5852);return n(Array.isArray(t)?t.join("; "):t)}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getCookieParser",{enumerable:!0,get:function(){return n}})},2828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERCEPTION_ROUTE_MARKERS:function(){return i},extractInterceptionRouteInformation:function(){return s},isInterceptionRouteAppPath:function(){return o}});let n=r(2045),i=["(..)(..)","(.)","(..)","(...)"];function o(e){return void 0!==e.split("/").find(e=>i.find(t=>e.startsWith(t)))}function s(e){let t,r,o;for(let n of e.split("/"))if(r=i.find(e=>n.startsWith(e))){[t,o]=e.split(r,2);break}if(!t||!r||!o)throw Error(`Invalid interception route: ${e}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(t=(0,n.normalizeAppPath)(t),r){case"(.)":o="/"===t?`/${o}`:t+"/"+o;break;case"(..)":if("/"===t)throw Error(`Invalid interception route: ${e}. Cannot use (..) marker at the root level, use (.) instead.`);o=t.split("/").slice(0,-1).concat(o).join("/");break;case"(...)":o="/"+o;break;case"(..)(..)":let s=t.split("/");if(s.length<=2)throw Error(`Invalid interception route: ${e}. Cannot use (..)(..) marker at the root level or one level up.`);o=s.slice(0,-2).concat(o).join("/");break;default:throw Error("Invariant: unexpected marker")}return{interceptingRoute:t,interceptedRoute:o}}},8654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getUtils:function(){return m},interpolateDynamicPath:function(){return p},normalizeDynamicRouteParams:function(){return h},normalizeVercelUrl:function(){return d}});let n=r(9551),i=r(9160),o=r(5296),s=r(3960),a=r(7073),u=r(8469),c=r(5e3),l=r(2045),f=r(2216);function d(e,t,r,i,o){if(i&&t&&o){let t=(0,n.parse)(e.url,!0);for(let e of(delete t.search,Object.keys(t.query))){let n=e!==f.NEXT_QUERY_PARAM_PREFIX&&e.startsWith(f.NEXT_QUERY_PARAM_PREFIX),i=e!==f.NEXT_INTERCEPTION_MARKER_PREFIX&&e.startsWith(f.NEXT_INTERCEPTION_MARKER_PREFIX);(n||i||(r||Object.keys(o.groups)).includes(e))&&delete t.query[e]}e.url=(0,n.format)(t)}}function p(e,t,r){if(!r)return e;for(let n of Object.keys(r.groups)){let i;let{optional:o,repeat:s}=r.groups[n],a=`[${s?"...":""}${n}]`;o&&(a=`[${a}]`);let u=t[n];i=Array.isArray(u)?u.map(e=>e&&encodeURIComponent(e)).join("/"):u?encodeURIComponent(u):"",e=e.replaceAll(a,i)}return e}function h(e,t,r,n){let i=!0;return r?{params:e=Object.keys(r.groups).reduce((o,s)=>{let a=e[s];"string"==typeof a&&(a=(0,l.normalizeRscURL)(a)),Array.isArray(a)&&(a=a.map(e=>("string"==typeof e&&(e=(0,l.normalizeRscURL)(e)),e)));let u=n[s],c=r.groups[s].optional;return((Array.isArray(u)?u.some(e=>Array.isArray(a)?a.some(t=>t.includes(e)):null==a?void 0:a.includes(e)):null==a?void 0:a.includes(u))||void 0===a&&!(c&&t))&&(i=!1),c&&(!a||Array.isArray(a)&&1===a.length&&("index"===a[0]||a[0]===`[[...${s}]]`))&&(a=void 0,delete e[s]),a&&"string"==typeof a&&r.groups[s].repeat&&(a=a.split("/")),a&&(o[s]=a),o},{}),hasValidParams:i}:{params:e,hasValidParams:!1}}function m({page:e,i18n:t,basePath:r,rewrites:n,pageIsDynamic:l,trailingSlash:m,caseSensitive:g}){let y,v,b;return l&&(y=(0,s.getNamedRouteRegex)(e,!1),b=(v=(0,a.getRouteMatcher)(y))(e)),{handleRewrites:function(s,a){let f={},d=a.pathname,p=n=>{let c=(0,o.getPathMatch)(n.source+(m?"(/)?":""),{removeUnnamedParams:!0,strict:!0,sensitive:!!g})(a.pathname);if((n.has||n.missing)&&c){let e=(0,u.matchHas)(s,a.query,n.has,n.missing);e?Object.assign(c,e):c=!1}if(c){let{parsedDestination:o,destQuery:s}=(0,u.prepareDestination)({appendParamsToQuery:!0,destination:n.destination,params:c,query:a.query});if(o.protocol)return!0;if(Object.assign(f,s,c),Object.assign(a.query,o.query),delete o.query,Object.assign(a,o),d=a.pathname,r&&(d=d.replace(RegExp(`^${r}`),"")||"/"),t){let e=(0,i.normalizeLocalePath)(d,t.locales);d=e.pathname,a.query.nextInternalLocale=e.detectedLocale||c.nextInternalLocale}if(d===e)return!0;if(l&&v){let e=v(d);if(e)return a.query={...a.query,...e},!0}}return!1};for(let e of n.beforeFiles||[])p(e);if(d!==e){let t=!1;for(let e of n.afterFiles||[])if(t=p(e))break;if(!t&&!(()=>{let t=(0,c.removeTrailingSlash)(d||"");return t===(0,c.removeTrailingSlash)(e)||(null==v?void 0:v(t))})()){for(let e of n.fallback||[])if(t=p(e))break}}return f},defaultRouteRegex:y,dynamicRouteMatcher:v,defaultRouteMatches:b,getParamsFromRouteMatches:function(e,r,n){return(0,a.getRouteMatcher)(function(){let{groups:e,routeKeys:i}=y;return{re:{exec:o=>{let s=Object.fromEntries(new URLSearchParams(o)),a=t&&n&&s["1"]===n;for(let e of Object.keys(s)){let t=s[e];e!==f.NEXT_QUERY_PARAM_PREFIX&&e.startsWith(f.NEXT_QUERY_PARAM_PREFIX)&&(s[e.substring(f.NEXT_QUERY_PARAM_PREFIX.length)]=t,delete s[e])}let u=Object.keys(i||{}),c=e=>{if(t){let i=Array.isArray(e),o=i?e[0]:e;if("string"==typeof o&&t.locales.some(e=>e.toLowerCase()===o.toLowerCase()&&(n=e,r.locale=n,!0)))return i&&e.splice(0,1),!i||0===e.length}return!1};return u.every(e=>s[e])?u.reduce((t,r)=>{let n=null==i?void 0:i[r];return n&&!c(s[r])&&(t[e[n].pos]=s[r]),t},{}):Object.keys(s).reduce((e,t)=>{if(!c(s[t])){let r=t;return a&&(r=parseInt(t,10)-1+""),Object.assign(e,{[r]:s[t]})}return e},{})}},groups:e}}())(e.headers["x-now-route-matches"])},normalizeDynamicRouteParams:(e,t)=>h(e,t,y,b),normalizeVercelUrl:(e,t,r)=>d(e,t,r,l,y),interpolateDynamicPath:(e,t)=>p(e,t,y)}}},620:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"escapeStringRegexp",{enumerable:!0,get:function(){return i}});let r=/[|\\{}()[\]^$+*?.-]/,n=/[|\\{}()[\]^$+*?.-]/g;function i(e){return r.test(e)?e.replace(n,"\\$&"):e}},3171:(e,t)=>{"use strict";function r(e){let t=5381;for(let r=0;r<e.length;r++)t=(t<<5)+t+e.charCodeAt(r)&0xffffffff;return t>>>0}function n(e){return r(e).toString(36).slice(0,5)}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{djb2Hash:function(){return r},hexHash:function(){return n}})},164:(e,t)=>{"use strict";function r(e){return e.startsWith("/")?e:"/"+e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ensureLeadingSlash",{enumerable:!0,get:function(){return r}})},8977:(e,t)=>{"use strict";function r(e){return e.replace(/\\/g,"/")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizePathSep",{enumerable:!0,get:function(){return r}})},2045:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{normalizeAppPath:function(){return o},normalizeRscURL:function(){return s}});let n=r(164),i=r(8758);function o(e){return(0,n.ensureLeadingSlash)(e.split("/").reduce((e,t,r,n)=>!t||(0,i.isGroupSegment)(t)||"@"===t[0]||("page"===t||"route"===t)&&r===n.length-1?e:e+"/"+t,""))}function s(e){return e.replace(/\.rsc($|\?)/,"$1")}},1089:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parseRelativeUrl",{enumerable:!0,get:function(){return i}}),r(1706);let n=r(6678);function i(e,t,r){void 0===r&&(r=!0);let i=new URL("http://n"),o=t?new URL(t,i):e.startsWith(".")?new URL("http://n"):i,{pathname:s,searchParams:a,search:u,hash:c,href:l,origin:f}=new URL(e,o);if(f!==i.origin)throw Error("invariant: invalid relative URL, router received "+e);return{pathname:s,query:r?(0,n.searchParamsToUrlQuery)(a):void 0,search:u,hash:c,href:l.slice(f.length)}}},7600:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parseUrl",{enumerable:!0,get:function(){return o}});let n=r(6678),i=r(1089);function o(e){if(e.startsWith("/"))return(0,i.parseRelativeUrl)(e);let t=new URL(e);return{hash:t.hash,hostname:t.hostname,href:t.href,pathname:t.pathname,port:t.port,protocol:t.protocol,query:(0,n.searchParamsToUrlQuery)(t.searchParams),search:t.search}}},5296:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getPathMatch",{enumerable:!0,get:function(){return i}});let n=r(8577);function i(e,t){let r=[],i=(0,n.pathToRegexp)(e,r,{delimiter:"/",sensitive:"boolean"==typeof(null==t?void 0:t.sensitive)&&t.sensitive,strict:null==t?void 0:t.strict}),o=(0,n.regexpToFunction)((null==t?void 0:t.regexModifier)?new RegExp(t.regexModifier(i.source),i.flags):i,r);return(e,n)=>{if("string"!=typeof e)return!1;let i=o(e);if(!i)return!1;if(null==t?void 0:t.removeUnnamedParams)for(let e of r)"number"==typeof e.name&&delete i.params[e.name];return{...n,...i.params}}}},8469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{compileNonPath:function(){return f},matchHas:function(){return l},prepareDestination:function(){return d}});let n=r(8577),i=r(620),o=r(7600),s=r(2828),a=r(484),u=r(4713);function c(e){return e.replace(/__ESC_COLON_/gi,":")}function l(e,t,r,n){void 0===r&&(r=[]),void 0===n&&(n=[]);let i={},o=r=>{let n;let o=r.key;switch(r.type){case"header":o=o.toLowerCase(),n=e.headers[o];break;case"cookie":n="cookies"in e?e.cookies[r.key]:(0,u.getCookieParser)(e.headers)()[r.key];break;case"query":n=t[o];break;case"host":{let{host:t}=(null==e?void 0:e.headers)||{};n=null==t?void 0:t.split(":",1)[0].toLowerCase()}}if(!r.value&&n)return i[function(e){let t="";for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);(n>64&&n<91||n>96&&n<123)&&(t+=e[r])}return t}(o)]=n,!0;if(n){let e=RegExp("^"+r.value+"$"),t=Array.isArray(n)?n.slice(-1)[0].match(e):n.match(e);if(t)return Array.isArray(t)&&(t.groups?Object.keys(t.groups).forEach(e=>{i[e]=t.groups[e]}):"host"===r.type&&t[0]&&(i.host=t[0])),!0}return!1};return!!r.every(e=>o(e))&&!n.some(e=>o(e))&&i}function f(e,t){if(!e.includes(":"))return e;for(let r of Object.keys(t))e.includes(":"+r)&&(e=e.replace(RegExp(":"+r+"\\*","g"),":"+r+"--ESCAPED_PARAM_ASTERISKS").replace(RegExp(":"+r+"\\?","g"),":"+r+"--ESCAPED_PARAM_QUESTION").replace(RegExp(":"+r+"\\+","g"),":"+r+"--ESCAPED_PARAM_PLUS").replace(RegExp(":"+r+"(?!\\w)","g"),"--ESCAPED_PARAM_COLON"+r));return e=e.replace(/(:|\*|\?|\+|\(|\)|\{|\})/g,"\\$1").replace(/--ESCAPED_PARAM_PLUS/g,"+").replace(/--ESCAPED_PARAM_COLON/g,":").replace(/--ESCAPED_PARAM_QUESTION/g,"?").replace(/--ESCAPED_PARAM_ASTERISKS/g,"*"),(0,n.compile)("/"+e,{validate:!1})(t).slice(1)}function d(e){let t;let r=Object.assign({},e.query);delete r.__nextLocale,delete r.__nextDefaultLocale,delete r.__nextDataReq,delete r.__nextInferredLocaleFromDefault,delete r[a.NEXT_RSC_UNION_QUERY];let u=e.destination;for(let t of Object.keys({...e.params,...r}))u=t?u.replace(RegExp(":"+(0,i.escapeStringRegexp)(t),"g"),"__ESC_COLON_"+t):u;let l=(0,o.parseUrl)(u),d=l.query,p=c(""+l.pathname+(l.hash||"")),h=c(l.hostname||""),m=[],g=[];(0,n.pathToRegexp)(p,m),(0,n.pathToRegexp)(h,g);let y=[];m.forEach(e=>y.push(e.name)),g.forEach(e=>y.push(e.name));let v=(0,n.compile)(p,{validate:!1}),b=(0,n.compile)(h,{validate:!1});for(let[t,r]of Object.entries(d))Array.isArray(r)?d[t]=r.map(t=>f(c(t),e.params)):"string"==typeof r&&(d[t]=f(c(r),e.params));let w=Object.keys(e.params).filter(e=>"nextInternalLocale"!==e);if(e.appendParamsToQuery&&!w.some(e=>y.includes(e)))for(let t of w)t in d||(d[t]=e.params[t]);if((0,s.isInterceptionRouteAppPath)(p))for(let t of p.split("/")){let r=s.INTERCEPTION_ROUTE_MARKERS.find(e=>t.startsWith(e));if(r){"(..)(..)"===r?(e.params["0"]="(..)",e.params["1"]="(..)"):e.params["0"]=r;break}}try{let[r,n]=(t=v(e.params)).split("#",2);l.hostname=b(e.params),l.pathname=r,l.hash=(n?"#":"")+(n||""),delete l.search}catch(e){if(e.message.match(/Expected .*? to not repeat, but got an array/))throw Error("To use a multi-match in the destination you must add `*` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match");throw e}return l.query={...r,...l.query},{newUrl:t,destQuery:d,parsedDestination:l}}},6678:(e,t)=>{"use strict";function r(e){let t={};return e.forEach((e,r)=>{void 0===t[r]?t[r]=e:Array.isArray(t[r])?t[r].push(e):t[r]=[t[r],e]}),t}function n(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function i(e){let t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[r,i]=e;Array.isArray(i)?i.forEach(e=>t.append(r,n(e))):t.set(r,n(i))}),t}function o(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.forEach(t=>{Array.from(t.keys()).forEach(t=>e.delete(t)),t.forEach((t,r)=>e.append(r,t))}),e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{assign:function(){return o},searchParamsToUrlQuery:function(){return r},urlQueryToSearchParams:function(){return i}})},7073:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getRouteMatcher",{enumerable:!0,get:function(){return i}});let n=r(1706);function i(e){let{re:t,groups:r}=e;return e=>{let i=t.exec(e);if(!i)return!1;let o=e=>{try{return decodeURIComponent(e)}catch(e){throw new n.DecodeError("failed to decode param")}},s={};return Object.keys(r).forEach(e=>{let t=r[e],n=i[t.pos];void 0!==n&&(s[e]=~n.indexOf("/")?n.split("/").map(e=>o(e)):t.repeat?[o(n)]:o(n))}),s}}},3960:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getNamedMiddlewareRegex:function(){return m},getNamedRouteRegex:function(){return h},getRouteRegex:function(){return f},parseParameter:function(){return u}});let n=r(2216),i=r(2828),o=r(620),s=r(5e3),a=/\[((?:\[.*\])|.+)\]/;function u(e){let t=e.match(a);return t?c(t[1]):c(e)}function c(e){let t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));let r=e.startsWith("...");return r&&(e=e.slice(3)),{key:e,repeat:r,optional:t}}function l(e){let t=(0,s.removeTrailingSlash)(e).slice(1).split("/"),r={},n=1;return{parameterizedRoute:t.map(e=>{let t=i.INTERCEPTION_ROUTE_MARKERS.find(t=>e.startsWith(t)),s=e.match(a);if(t&&s){let{key:e,optional:i,repeat:a}=c(s[1]);return r[e]={pos:n++,repeat:a,optional:i},"/"+(0,o.escapeStringRegexp)(t)+"([^/]+?)"}if(!s)return"/"+(0,o.escapeStringRegexp)(e);{let{key:e,repeat:t,optional:i}=c(s[1]);return r[e]={pos:n++,repeat:t,optional:i},t?i?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:r}}function f(e){let{parameterizedRoute:t,groups:r}=l(e);return{re:RegExp("^"+t+"(?:/)?$"),groups:r}}function d(e){let{interceptionMarker:t,getSafeRouteKey:r,segment:n,routeKeys:i,keyPrefix:s}=e,{key:a,optional:u,repeat:l}=c(n),f=a.replace(/\W/g,"");s&&(f=""+s+f);let d=!1;(0===f.length||f.length>30)&&(d=!0),isNaN(parseInt(f.slice(0,1)))||(d=!0),d&&(f=r()),s?i[f]=""+s+a:i[f]=a;let p=t?(0,o.escapeStringRegexp)(t):"";return l?u?"(?:/"+p+"(?<"+f+">.+?))?":"/"+p+"(?<"+f+">.+?)":"/"+p+"(?<"+f+">[^/]+?)"}function p(e,t){let r;let a=(0,s.removeTrailingSlash)(e).slice(1).split("/"),u=(r=0,()=>{let e="",t=++r;for(;t>0;)e+=String.fromCharCode(97+(t-1)%26),t=Math.floor((t-1)/26);return e}),c={};return{namedParameterizedRoute:a.map(e=>{let r=i.INTERCEPTION_ROUTE_MARKERS.some(t=>e.startsWith(t)),s=e.match(/\[((?:\[.*\])|.+)\]/);if(r&&s){let[r]=e.split(s[0]);return d({getSafeRouteKey:u,interceptionMarker:r,segment:s[1],routeKeys:c,keyPrefix:t?n.NEXT_INTERCEPTION_MARKER_PREFIX:void 0})}return s?d({getSafeRouteKey:u,segment:s[1],routeKeys:c,keyPrefix:t?n.NEXT_QUERY_PARAM_PREFIX:void 0}):"/"+(0,o.escapeStringRegexp)(e)}).join(""),routeKeys:c}}function h(e,t){let r=p(e,t);return{...f(e),namedRegex:"^"+r.namedParameterizedRoute+"(?:/)?$",routeKeys:r.routeKeys}}function m(e,t){let{parameterizedRoute:r}=l(e),{catchAll:n=!0}=t;if("/"===r)return{namedRegex:"^/"+(n?".*":"")+"$"};let{namedParameterizedRoute:i}=p(e,!1);return{namedRegex:"^"+i+(n?"(?:(/.*)?)":"")+"$"}}},1706:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DecodeError:function(){return h},MiddlewareNotFoundError:function(){return v},MissingStaticPage:function(){return y},NormalizeError:function(){return m},PageNotFoundError:function(){return g},SP:function(){return d},ST:function(){return p},WEB_VITALS:function(){return r},execOnce:function(){return n},getDisplayName:function(){return u},getLocationOrigin:function(){return s},getURL:function(){return a},isAbsoluteUrl:function(){return o},isResSent:function(){return c},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return l},stringifyError:function(){return b}});let r=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let t,r=!1;return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return r||(r=!0,t=e(...i)),t}}let i=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>i.test(e);function s(){let{protocol:e,hostname:t,port:r}=window.location;return e+"//"+t+(r?":"+r:"")}function a(){let{href:e}=window.location,t=s();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function c(e){return e.finished||e.headersSent}function l(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function f(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await f(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&c(r))return n;if(!n)throw Error('"'+u(e)+'.getInitialProps()" should resolve to an object. But found "'+n+'" instead.');return n}let d="undefined"!=typeof performance,p=d&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class h extends Error{}class m extends Error{}class g extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class y extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function b(e){return JSON.stringify({message:e.message,stack:e.stack})}},6055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r(8077);let i=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},2704:()=>{},6922:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.TOKEN_EXPIRATION_SECONDS=void 0,t.getTemporaryAuthToken=function(e,r){return n(this,void 0,void 0,function*(){let n=(0,s.parseEndpointId)(e),a=yield(0,o.dispatchRequest)({method:"POST",targetUrl:`${(0,i.getRestApiUrl)()}/tokens/`,config:r,input:{allowed_apps:[n.alias],token_expiration:t.TOKEN_EXPIRATION_SECONDS}});return"string"!=typeof a&&a.detail?a.detail:a})};let i=r(7662),o=r(3559),s=r(5903);t.TOKEN_EXPIRATION_SECONDS=120},4743:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.createFalClient=function(e={}){let t=(0,i.createConfig)(e),r=(0,c.createStorageClient)({config:t}),f=(0,o.createQueueClient)({config:t,storage:r}),d=(0,l.createStreamingClient)({config:t,storage:r});return{queue:f,realtime:(0,s.createRealtimeClient)({config:t}),storage:r,streaming:d,stream:d.stream,run(e){return n(this,arguments,void 0,function*(e,n={}){let i=n.input?yield r.transformInput(n.input):void 0;return(0,a.dispatchRequest)({method:n.method,targetUrl:(0,a.buildUrl)(e,n),input:i,config:Object.assign(Object.assign({},t),{responseHandler:u.resultResponseHandler}),options:{signal:n.abortSignal}})})},subscribe:(e,t)=>n(this,void 0,void 0,function*(){let{request_id:r}=yield f.submit(e,t);return t.onEnqueue&&t.onEnqueue(r),yield f.subscribeToStatus(e,Object.assign({requestId:r},t)),f.result(e,{requestId:r})})}};let i=r(7662),o=r(9733),s=r(1313),a=r(3559),u=r(4563),c=r(2107),l=r(6698)},7662:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.credentialsFromEnv=void 0,t.resolveDefaultFetch=s,t.createConfig=function(e){var t;let r=Object.assign(Object.assign(Object.assign({},a),e),{fetch:null!==(t=e.fetch)&&void 0!==t?t:s()});e.proxyUrl&&(r=Object.assign(Object.assign({},r),{requestMiddleware:(0,n.withMiddleware)(r.requestMiddleware,(0,n.withProxy)({targetUrl:e.proxyUrl}))}));let{credentials:i,suppressLocalCredentialsWarning:u}=r,c="function"==typeof i?i():i;return(0,o.isBrowser)()&&c&&!u&&console.warn("The fal credentials are exposed in the browser's environment. That's not recommended for production use cases."),r},t.getRestApiUrl=function(){return"https://rest.alpha.fal.ai"};let n=r(4088),i=r(4563),o=r(7522);function s(){if("undefined"==typeof fetch)throw Error("Your environment does not support fetch. Please provide your own fetch implementation.");return fetch}t.credentialsFromEnv=()=>"undefined"!=typeof process&&process.env&&(void 0!==process.env.FAL_KEY||void 0!==process.env.FAL_KEY_ID&&void 0!==process.env.FAL_KEY_SECRET)?void 0!==process.env.FAL_KEY?process.env.FAL_KEY:process.env.FAL_KEY_ID?`${process.env.FAL_KEY_ID}:${process.env.FAL_KEY_SECRET}`:void 0:void 0;let a={credentials:t.credentialsFromEnv,suppressLocalCredentialsWarning:!1,requestMiddleware:e=>Promise.resolve(e),responseHandler:i.defaultResponseHandler}},8854:function(e,t,r){"use strict";let n;var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.fal=t.parseEndpointId=t.ValidationError=t.ApiError=t.withProxy=t.withMiddleware=t.createFalClient=void 0;let s=r(4743);var a=r(4743);Object.defineProperty(t,"createFalClient",{enumerable:!0,get:function(){return a.createFalClient}});var u=r(4088);Object.defineProperty(t,"withMiddleware",{enumerable:!0,get:function(){return u.withMiddleware}}),Object.defineProperty(t,"withProxy",{enumerable:!0,get:function(){return u.withProxy}});var c=r(4563);Object.defineProperty(t,"ApiError",{enumerable:!0,get:function(){return c.ApiError}}),Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return c.ValidationError}}),o(r(1543),t);var l=r(5903);Object.defineProperty(t,"parseEndpointId",{enumerable:!0,get:function(){return l.parseEndpointId}}),t.fal=(n=(0,s.createFalClient)(),{config(e){n=(0,s.createFalClient)(e)},get queue(){return n.queue},get realtime(){return n.realtime},get storage(){return n.storage},get streaming(){return n.streaming},run:(e,t)=>n.run(e,t),subscribe:(e,t)=>n.subscribe(e,t),stream:(e,t)=>n.stream(e,t)})},4088:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.TARGET_URL_HEADER=void 0,t.withMiddleware=function(...e){let t=e=>"function"==typeof e;return n=>r(this,void 0,void 0,function*(){let r=Object.assign({},n);for(let n of e.filter(t))r=yield n(r);return r})},t.withProxy=function(e){let r=e=>Promise.resolve(e);return"undefined"==typeof window?r:n=>n.headers&&t.TARGET_URL_HEADER in n?r(n):Promise.resolve(Object.assign(Object.assign({},n),{url:e.targetUrl,headers:Object.assign(Object.assign({},n.headers||{}),{[t.TARGET_URL_HEADER]:n.url})}))},t.TARGET_URL_HEADER="x-fal-target-url"},9733:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},i=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};Object.defineProperty(t,"__esModule",{value:!0}),t.createQueueClient=void 0;let o=r(3559),s=r(4563),a=r(6698),u=r(5903);t.createQueueClient=({config:e,storage:t})=>{let r={submit(r,s){return n(this,void 0,void 0,function*(){let{webhookUrl:n,priority:a}=s,u=i(s,["webhookUrl","priority"]),c=s.input?yield t.transformInput(s.input):void 0;return(0,o.dispatchRequest)({method:s.method,targetUrl:(0,o.buildUrl)(r,Object.assign(Object.assign({},u),{subdomain:"queue",query:n?{fal_webhook:n}:void 0})),headers:{"x-fal-queue-priority":null!=a?a:"normal"},input:c,config:e,options:{signal:s.abortSignal}})})},status(t,r){return n(this,arguments,void 0,function*(t,{requestId:r,logs:n=!1,abortSignal:i}){let s=(0,u.parseEndpointId)(t),a=s.namespace?`${s.namespace}/`:"";return(0,o.dispatchRequest)({method:"get",targetUrl:(0,o.buildUrl)(`${a}${s.owner}/${s.alias}`,{subdomain:"queue",query:{logs:n?"1":"0"},path:`/requests/${r}/status`}),config:e,options:{signal:i}})})},streamStatus(t,r){return n(this,arguments,void 0,function*(t,{requestId:r,logs:n=!1,connectionMode:i}){let s=(0,u.parseEndpointId)(t),c=s.namespace?`${s.namespace}/`:"",l={logs:n?"1":"0"},f=(0,o.buildUrl)(`${c}${s.owner}/${s.alias}`,{subdomain:"queue",path:`/requests/${r}/status/stream`,query:l});return new a.FalStream(t,e,{url:f,method:"get",connectionMode:i,queryParams:l})})},subscribeToStatus(e,t){return n(this,void 0,void 0,function*(){let i;let o=t.requestId,s=t.timeout,a=()=>{};if("streaming"===t.mode){let n=yield r.streamStatus(e,{requestId:o,logs:t.logs,connectionMode:"connectionMode"in t?t.connectionMode:void 0}),u=[];s&&(i=setTimeout(()=>{throw n.abort(),r.cancel(e,{requestId:o}).catch(a),Error(`Client timed out waiting for the request to complete after ${s}ms`)},s)),n.on("data",e=>{t.onQueueUpdate&&("logs"in e&&Array.isArray(e.logs)&&e.logs.length>0&&u.push(...e.logs),t.onQueueUpdate("logs"in e?Object.assign(Object.assign({},e),{logs:u}):e))});let c=yield n.done();return i&&clearTimeout(i),c}return new Promise((u,c)=>{var l;let f;let d="pollInterval"in t&&"number"==typeof t.pollInterval&&null!==(l=t.pollInterval)&&void 0!==l?l:500,p=()=>{i&&clearTimeout(i),f&&clearTimeout(f)};s&&(i=setTimeout(()=>{p(),r.cancel(e,{requestId:o}).catch(a),c(Error(`Client timed out waiting for the request to complete after ${s}ms`))},s));let h=()=>n(this,void 0,void 0,function*(){var n;try{let i=yield r.status(e,{requestId:o,logs:null!==(n=t.logs)&&void 0!==n&&n,abortSignal:t.abortSignal});if(t.onQueueUpdate&&t.onQueueUpdate(i),"COMPLETED"===i.status){p(),u(i);return}f=setTimeout(h,d)}catch(e){p(),c(e)}});h().catch(c)})})},result(t,r){return n(this,arguments,void 0,function*(t,{requestId:r,abortSignal:n}){let i=(0,u.parseEndpointId)(t),a=i.namespace?`${i.namespace}/`:"";return(0,o.dispatchRequest)({method:"get",targetUrl:(0,o.buildUrl)(`${a}${i.owner}/${i.alias}`,{subdomain:"queue",path:`/requests/${r}`}),config:Object.assign(Object.assign({},e),{responseHandler:s.resultResponseHandler}),options:{signal:n}})})},cancel(t,r){return n(this,arguments,void 0,function*(t,{requestId:r,abortSignal:n}){let i=(0,u.parseEndpointId)(t),s=i.namespace?`${i.namespace}/`:"";yield(0,o.dispatchRequest)({method:"put",targetUrl:(0,o.buildUrl)(`${s}${i.owner}/${i.alias}`,{subdomain:"queue",path:`/requests/${r}/cancel`}),config:e,options:{signal:n}})})}};return r}},1313:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRealtimeClient=function({config:e}){return{connect(t,r){let c;let{clientOnly:l=(0,u.isReact)()&&!(0,a.isBrowser)(),connectionKey:f=crypto.randomUUID(),maxBuffering:b,throttleInterval:w=128}=r;if(l&&!(0,a.isBrowser)())return y;m.set(f,{onError:r.onError,onResult:r.onResult});let x=()=>m.get(f),E=function(e,t,r){if(!h.has(e)){let n=(0,i.interpret)(d,r);h.set(e,Object.assign(Object.assign({},n),{throttledSend:t>0?(0,u.throttle)(n.send,t,!0):n.send}))}return h.get(e)}(f,w,({context:r,machine:i,send:a})=>{let{enqueuedMessage:l,token:f}=r;if("active"===i.current&&l&&a({type:"send",message:l}),"authRequired"===i.current&&void 0===f&&c!==i.current&&(a({type:"initiateAuth"}),(0,o.getTemporaryAuthToken)(t,e).then(e=>{a({type:"authenticated",token:e}),setTimeout(()=>{a({type:"expireToken"})},Math.round(900*o.TOKEN_EXPIRATION_SECONDS))}).catch(e=>{a({type:"unauthorized",error:e})})),"connecting"===i.current&&c!==i.current&&void 0!==f){let e=new WebSocket(function(e,{token:t,maxBuffering:r}){if(void 0!==r&&(r<1||r>60))throw Error("The `maxBuffering` must be between 1 and 60 (inclusive)");let n=new URLSearchParams({fal_jwt_token:t});void 0!==r&&n.set("max_buffering",r.toFixed(0));let i=(0,u.ensureEndpointIdFormat)(e);return`wss://fal.run/${i}/realtime?${n.toString()}`}(t,{token:f,maxBuffering:b}));e.onopen=()=>{a({type:"connected",websocket:e})},e.onclose=e=>{if(e.code!==p.NORMAL_CLOSURE){let{onError:t=g}=x();t(new s.ApiError({message:`Error closing the connection: ${e.reason}`,status:e.code}))}a({type:"connectionClosed",code:e.code})},e.onerror=e=>{let{onError:t=g}=x();t(new s.ApiError({message:"Unknown error",status:500}))},e.onmessage=e=>{let{onResult:t}=x();if(e.data instanceof ArrayBuffer){t((0,n.decode)(new Uint8Array(e.data)));return}if(e.data instanceof Uint8Array){t((0,n.decode)(e.data));return}if(e.data instanceof Blob){e.data.arrayBuffer().then(e=>{t((0,n.decode)(new Uint8Array(e)))});return}let r=JSON.parse(e.data);if("error"===r.status&&"Unauthorized"===r.error){a({type:"unauthorized",error:Error("Unauthorized")});return}if("error"!==r.status&&"x-fal-message"!==r.type&&!v(r)){t(r);return}if(v(r)){if("TIMEOUT"===r.error)return;let{onError:e=g}=x();e(new s.ApiError({message:`${r.error}: ${r.reason}`,status:400,body:r}));return}}}c=i.current});return{send:e=>{E.throttledSend({type:"send",message:e})},close:()=>{E.send({type:"close"})}}}}};let n=r(7489),i=r(6624),o=r(6922),s=r(4563),a=r(7522),u=r(5903);function c(e,t){return Object.assign(Object.assign({},e),{enqueuedMessage:t.message})}function l(e){return e.websocket&&e.websocket.readyState===WebSocket.OPEN&&e.websocket.close(),Object.assign(Object.assign({},e),{websocket:void 0})}function f(e){return Object.assign(Object.assign({},e),{token:void 0})}let d=(0,i.createMachine)("idle",{idle:(0,i.state)((0,i.transition)("send","connecting",(0,i.reduce)(c)),(0,i.transition)("expireToken","idle",(0,i.reduce)(f)),(0,i.transition)("close","idle",(0,i.reduce)(l))),connecting:(0,i.state)((0,i.transition)("connecting","connecting"),(0,i.transition)("connected","active",(0,i.reduce)(function(e,t){return Object.assign(Object.assign({},e),{websocket:t.websocket})})),(0,i.transition)("connectionClosed","idle",(0,i.reduce)(l)),(0,i.transition)("send","connecting",(0,i.reduce)(c)),(0,i.transition)("close","idle",(0,i.reduce)(l)),(0,i.immediate)("authRequired",(0,i.guard)(function(e){return!(void 0!==e.token)}))),authRequired:(0,i.state)((0,i.transition)("initiateAuth","authInProgress"),(0,i.transition)("send","authRequired",(0,i.reduce)(c)),(0,i.transition)("close","idle",(0,i.reduce)(l))),authInProgress:(0,i.state)((0,i.transition)("authenticated","connecting",(0,i.reduce)(function(e,t){return Object.assign(Object.assign({},e),{token:t.token})})),(0,i.transition)("unauthorized","idle",(0,i.reduce)(f),(0,i.reduce)(l)),(0,i.transition)("send","authInProgress",(0,i.reduce)(c)),(0,i.transition)("close","idle",(0,i.reduce)(l))),active:(0,i.state)((0,i.transition)("send","active",(0,i.reduce)(function(e,t){return e.websocket&&e.websocket.readyState===WebSocket.OPEN?(t.message instanceof Uint8Array?e.websocket.send(t.message):e.websocket.send((0,n.encode)(t.message)),Object.assign(Object.assign({},e),{enqueuedMessage:void 0})):Object.assign(Object.assign({},e),{enqueuedMessage:t.message})})),(0,i.transition)("unauthorized","idle",(0,i.reduce)(f)),(0,i.transition)("connectionClosed","idle",(0,i.reduce)(l)),(0,i.transition)("close","idle",(0,i.reduce)(l))),failed:(0,i.state)((0,i.transition)("send","failed"),(0,i.transition)("close","idle",(0,i.reduce)(l)))},()=>({enqueuedMessage:void 0})),p={NORMAL_CLOSURE:1e3},h=new Map,m=new Map,g=()=>{},y={send:g,close:g};function v(e){return"x-fal-error"===e.type}},3559:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},i=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchRequest=function(e){return n(this,void 0,void 0,function*(){var t,r,n;let{targetUrl:s,input:u,config:c,options:l={}}=e,{credentials:f,requestMiddleware:d,responseHandler:p,fetch:h}=c,m=(0,o.isBrowser)()?{}:{"User-Agent":(0,o.getUserAgent)()},g="function"==typeof f?f():f,{method:y,url:v,headers:b}=yield d({method:(null!==(r=null!==(t=e.method)&&void 0!==t?t:l.method)&&void 0!==r?r:"post").toUpperCase(),url:s,headers:e.headers}),w=Object.assign(Object.assign(Object.assign(Object.assign({},g?{Authorization:`Key ${g}`}:{}),{Accept:"application/json","Content-Type":"application/json"}),m),null!=b?b:{}),{responseHandler:x}=l,E=i(l,["responseHandler"]),_=yield h(v,Object.assign(Object.assign(Object.assign(Object.assign({},E),{method:y,headers:Object.assign(Object.assign({},w),null!==(n=E.headers)&&void 0!==n?n:{})}),!a&&{mode:"cors"}),{signal:l.signal,body:"get"!==y.toLowerCase()&&u?JSON.stringify(u):void 0}));return yield(null!=x?x:p)(_)})},t.buildUrl=function(e,t={}){var r,n;let i=(null!==(r=t.method)&&void 0!==r?r:"post").toLowerCase(),o=(null!==(n=t.path)&&void 0!==n?n:"").replace(/^\//,"").replace(/\/{2,}/,"/"),a=t.input,u=Object.assign(Object.assign({},t.query||{}),"get"===i?a:{}),c=Object.keys(u).length>0?`?${new URLSearchParams(u).toString()}`:"";if((0,s.isValidUrl)(e)){let t=e.endsWith("/")?e:`${e}/`;return`${t}${o}${c}`}let l=(0,s.ensureEndpointIdFormat)(e),f=t.subdomain?`${t.subdomain}.`:"",d=`https://${f}fal.run/${l}/${o}`;return`${d.replace(/\/$/,"")}${c}`};let o=r(7522),s=r(5903),a="undefined"!=typeof navigator&&(null==navigator?void 0:navigator.userAgent)==="Cloudflare-Workers"},4563:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationError=t.ApiError=void 0,t.defaultResponseHandler=o,t.resultResponseHandler=function(e){return r(this,void 0,void 0,function*(){return{data:yield o(e),requestId:e.headers.get("x-fal-request-id")||""}})};class n extends Error{constructor({message:e,status:t,body:r}){super(e),this.name="ApiError",this.status=t,this.body=r}}t.ApiError=n;class i extends n{constructor(e){super(e),this.name="ValidationError"}get fieldErrors(){return"string"==typeof this.body.detail?[{loc:["body"],msg:this.body.detail,type:"value_error"}]:this.body.detail||[]}getFieldErrors(e){return this.fieldErrors.filter(t=>t.loc[t.loc.length-1]===e)}}function o(e){return r(this,void 0,void 0,function*(){var t;let{status:r,statusText:o}=e,s=null!==(t=e.headers.get("Content-Type"))&&void 0!==t?t:"";if(!e.ok){if(s.includes("application/json")){let t=yield e.json();throw new(422===r?i:n)({message:t.message||o,status:r,body:t})}throw new n({message:`HTTP ${r}: ${o}`,status:r})}return s.includes("application/json")?e.json():s.includes("text/html")?e.text():s.includes("application/octet-stream")?e.arrayBuffer():e.text()})}t.ValidationError=i},7522:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=function(){return"undefined"!=typeof window&&void 0!==window.document},t.getUserAgent=function(){if(null!==n)return n;let e=r(9356);return n=`${e.name}/${e.version}`};let n=null},2107:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.createStorageClient=function({config:e}){let t={upload:t=>n(this,void 0,void 0,function*(){if(t.size>0x5a00000)return yield function(e,t){return n(this,void 0,void 0,function*(){let{fetch:r,responseHandler:s}=t,u=e.type||"application/octet-stream",{upload_url:c,file_url:l}=yield function(e,t,r){return n(this,void 0,void 0,function*(){let n=e.name||`${Date.now()}.${a(r)}`;return yield(0,o.dispatchRequest)({method:"POST",targetUrl:`${(0,i.getRestApiUrl)()}/storage/upload/initiate-multipart?storage_type=fal-cdn-v3`,input:{content_type:r,file_name:n},config:t})})}(e,t,u),f=Math.ceil(e.size/0xa00000),d=new URL(c),p=[];for(let r=0;r<f;r++){let i=0xa00000*r,o=Math.min(i+0xa00000,e.size),s=e.slice(i,o),a=r+1,u=`${d.origin}${d.pathname}/${a}${d.search}`;p.push((yield function e(t,r,i){return n(this,arguments,void 0,function*(t,r,n,i=3){if(0===i)throw Error("Part upload failed, retries exhausted");let{fetch:o,responseHandler:s}=n;try{let e=yield o(t,{method:"PUT",body:r});return yield s(e)}catch(o){return yield e(t,r,n,i-1)}})}(u,s,t)))}let h=`${d.origin}${d.pathname}/complete${d.search}`,m=yield r(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({parts:p.map(e=>({partNumber:e.partNumber,etag:e.etag}))})});return yield s(m),l})}(t,e);let r=t.type||"application/octet-stream",{fetch:s,responseHandler:u}=e,{upload_url:c,file_url:l}=yield function(e,t,r){return n(this,void 0,void 0,function*(){let n=e.name||`${Date.now()}.${a(r)}`;return yield(0,o.dispatchRequest)({method:"POST",targetUrl:`${(0,i.getRestApiUrl)()}/storage/upload/initiate?storage_type=fal-cdn-v3`,input:{content_type:r,file_name:n},config:t})})}(t,e,r),f=yield s(c,{method:"PUT",body:t,headers:{"Content-Type":t.type||"application/octet-stream"}});return yield u(f),l}),transformInput:e=>n(this,void 0,void 0,function*(){if(Array.isArray(e))return Promise.all(e.map(e=>t.transformInput(e)));if(e instanceof Blob)return yield t.upload(e);if((0,s.isPlainObject)(e)){let r=Object.entries(e).map(e=>n(this,[e],void 0,function*([e,r]){return[e,(yield t.transformInput(r))]}));return Object.fromEntries((yield Promise.all(r)))}return e})};return t};let i=r(7662),o=r(3559),s=r(5903);function a(e){var t;let[r,n]=e.split("/");return null!==(t=n.split(/[-;]/)[0])&&void 0!==t?t:"bin"}},6698:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},i=this&&this.__await||function(e){return this instanceof i?(this.v=e,this):new i(e)},o=this&&this.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),s=[];return n={},a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,l)}}),n[Symbol.asyncIterator]=function(){return this},n;function a(e,t){o[e]&&(n[e]=function(t){return new Promise(function(r,n){s.push([e,t,r,n])>1||u(e,t)})},t&&(n[e]=t(n[e])))}function u(e,t){try{var r;(r=o[e](t)).value instanceof i?Promise.resolve(r.value.v).then(c,l):f(s[0][2],r)}catch(e){f(s[0][3],e)}}function c(e){u("next",e)}function l(e){u("throw",e)}function f(e,t){e(t),s.shift(),s.length&&u(s[0][0],s[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.FalStream=void 0,t.createStreamingClient=function({config:e,storage:t}){return{stream(r,i){return n(this,void 0,void 0,function*(){let n=i.input?yield t.transformInput(i.input):void 0;return new f(r,e,Object.assign(Object.assign({},i),{input:n}))})}}};let s=r(6956),a=r(6922),u=r(3559),c=r(4563),l="text/event-stream";class f{constructor(e,t,r){var i;this.listeners=new Map,this.buffer=[],this.currentData=void 0,this.lastEventTimestamp=0,this.streamClosed=!1,this.abortController=new AbortController,this.start=()=>n(this,void 0,void 0,function*(){var e,t;let{endpointId:r,options:n}=this,{input:i,method:o="post",connectionMode:s="server"}=n;try{if("client"===s){let t=yield(0,a.getTemporaryAuthToken)(r,this.config),{fetch:s}=this.config,u=new URL(this.url);u.searchParams.set("fal_jwt_token",t);let c=yield s(u.toString(),{method:o.toUpperCase(),headers:{accept:null!==(e=n.accept)&&void 0!==e?e:l,"content-type":"application/json"},body:i&&"get"!==o?JSON.stringify(i):void 0,signal:this.abortController.signal});return yield this.handleResponse(c)}return yield(0,u.dispatchRequest)({method:o.toUpperCase(),targetUrl:this.url,input:i,config:this.config,options:{headers:{accept:null!==(t=n.accept)&&void 0!==t?t:l},responseHandler:this.handleResponse,signal:this.abortController.signal}})}catch(e){this.handleError(e)}}),this.handleResponse=e=>n(this,void 0,void 0,function*(){var t,r;if(!e.ok){try{yield(0,c.defaultResponseHandler)(e)}catch(e){this.emit("error",e)}return}let i=e.body;if(!i){this.emit("error",new c.ApiError({message:"Response body is empty.",status:400,body:void 0}));return}if(!(null!==(t=e.headers.get("content-type"))&&void 0!==t?t:"").startsWith(l)){let e=i.getReader(),t=()=>{e.read().then(({done:e,value:r})=>{if(e){this.emit("done",this.currentData);return}this.currentData=r,this.emit("data",r),t()})};t();return}let o=new TextDecoder("utf-8"),a=e.body.getReader(),u=(0,s.createParser)(e=>{if("event"===e.type){let t=e.data;try{let e=JSON.parse(t);this.buffer.push(e),this.currentData=e,this.emit("data",e),this.emit("message",e)}catch(e){this.emit("error",e)}}}),f=null!==(r=this.options.timeout)&&void 0!==r?r:15e3,d=()=>n(this,void 0,void 0,function*(){let{value:e,done:t}=yield a.read();this.lastEventTimestamp=Date.now(),u.feed(o.decode(e)),Date.now()-this.lastEventTimestamp>f&&this.emit("error",new c.ApiError({message:`Event stream timed out after ${(f/1e3).toFixed(0)} seconds with no messages.`,status:408})),t?this.emit("done",this.currentData):d().catch(this.handleError)});d().catch(this.handleError)}),this.handleError=e=>{var t;if("AbortError"===e.name||this.signal.aborted)return;let r=e instanceof c.ApiError?e:new c.ApiError({message:null!==(t=e.message)&&void 0!==t?t:"An unknown error occurred",status:500});this.emit("error",r)},this.on=(e,t)=>{var r;this.listeners.has(e)||this.listeners.set(e,[]),null===(r=this.listeners.get(e))||void 0===r||r.push(t)},this.emit=(e,t)=>{for(let r of this.listeners.get(e)||[])r(t)},this.done=()=>n(this,void 0,void 0,function*(){return this.donePromise}),this.abort=e=>{this.streamClosed||this.abortController.abort(e)},this.endpointId=e,this.config=t,this.url=null!==(i=r.url)&&void 0!==i?i:(0,u.buildUrl)(e,{path:"/stream",query:r.queryParams}),this.options=r,this.donePromise=new Promise((e,t)=>{this.streamClosed&&t(new c.ApiError({message:"Streaming connection is already closed.",status:400,body:void 0})),this.signal.addEventListener("abort",()=>{var t;e(null!==(t=this.currentData)&&void 0!==t?t:{})}),this.on("done",t=>{this.streamClosed=!0,e(t)}),this.on("error",e=>{this.streamClosed=!0,t(e)})}),r.signal&&r.signal.addEventListener("abort",()=>{this.abortController.abort()}),this.start().catch(this.handleError)}[Symbol.asyncIterator](){return o(this,arguments,function*(){let e=!0,t=()=>e=!1;for(this.on("error",t),this.on("done",t);e;){let e=this.buffer.shift();e&&(yield yield i(e)),yield i(new Promise(e=>setTimeout(e,16)))}})}get signal(){return this.abortController.signal}}t.FalStream=f},1543:(e,t)=>{"use strict";function r(e){return e&&e.status&&e.response_url}Object.defineProperty(t,"__esModule",{value:!0}),t.isQueueStatus=r,t.isCompletedQueueStatus=function(e){return r(e)&&"COMPLETED"===e.status}},5903:(e,t)=>{"use strict";let r;function n(e){if(e.split("/").length>1)return e;let[,t,r]=/^([0-9]+)-([a-zA-Z0-9-]+)$/.exec(e)||[];if(t&&r)return`${t}/${r}`;throw Error(`Invalid app id: ${e}. Must be in the format <appOwner>/<appId>`)}Object.defineProperty(t,"__esModule",{value:!0}),t.ensureEndpointIdFormat=n,t.parseEndpointId=function(e){let t=n(e).split("/");return i.includes(t[0])?{owner:t[1],alias:t[2],path:t.slice(3).join("/")||void 0,namespace:t[0]}:{owner:t[0],alias:t[1],path:t.slice(2).join("/")||void 0}},t.isValidUrl=function(e){try{let{host:t}=new URL(e);return/(fal\.(ai|run))$/.test(t)}catch(e){return!1}},t.throttle=function(e,t,r=!1){let n,i;return(...o)=>{!i&&r?(e(...o),i=Date.now()):(n&&clearTimeout(n),n=setTimeout(()=>{Date.now()-i>=t&&(e(...o),i=Date.now())},t-(Date.now()-i)))}},t.isReact=function(){if(void 0===r){let e=Error().stack;r=!!e&&(e.includes("node_modules/react-dom/")||e.includes("node_modules/next/"))}return r},t.isPlainObject=function(e){return!!e&&Object.getPrototypeOf(e)===Object.prototype};let i=["workflows","comfy"]},6956:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=[239,187,191];t.createParser=function(e){let t,n,i,o,s,a,u;return c(),{feed:function(c){var l;n=n?n+c:c,t&&(l=n,r.every((e,t)=>l.charCodeAt(t)===e))&&(n=n.slice(r.length)),t=!1;let f=n.length,d=0,p=!1;for(;d<f;){let t;p&&("\n"===n[d]&&++d,p=!1);let r=-1,c=o;for(let e=i;r<0&&e<f;++e)":"===(t=n[e])&&c<0?c=e-d:"\r"===t?(p=!0,r=e-d):"\n"===t&&(r=e-d);if(r<0){i=f-d,o=c;break}i=0,o=-1,function(t,r,n,i){if(0===i){u.length>0&&(e({type:"event",id:s,event:a||void 0,data:u.slice(0,-1)}),u="",s=void 0),a=void 0;return}let o=n<0,c=t.slice(r,r+(o?i:n)),l=0;l=o?i:" "===t[r+n+1]?n+2:n+1;let f=r+l,d=i-l,p=t.slice(f,f+d).toString();if("data"===c)u+=p?"".concat(p,"\n"):"\n";else if("event"===c)a=p;else if("id"!==c||p.includes("\0")){if("retry"===c){let t=parseInt(p,10);Number.isNaN(t)||e({type:"reconnect-interval",value:t})}}else s=p}(n,d,c,r),d+=r+1}d===f?n="":d>0&&(n=n.slice(d))},reset:c};function c(){t=!0,n="",i=0,o=-1,s=void 0,a=void 0,u=""}}},7489:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DataViewIndexOutOfBoundsError:()=>I,DecodeError:()=>u,Decoder:()=>k,EXT_TIMESTAMP:()=>f,Encoder:()=>w,ExtData:()=>s,ExtensionCodec:()=>v,decode:()=>$,decodeArrayStream:()=>W,decodeAsync:()=>q,decodeMulti:()=>L,decodeMultiStream:()=>H,decodeStream:()=>K,decodeTimestampExtension:()=>g,decodeTimestampToTimeSpec:()=>m,encode:()=>x,encodeDateToTimeSpec:()=>p,encodeTimeSpecToTimestamp:()=>d,encodeTimestampExtension:()=>h});var n=new TextEncoder;function i(e,t,r){for(var n=t,i=n+r,o=[],s="";n<i;){var a=e[n++];if((128&a)==0)o.push(a);else if((224&a)==192){var u=63&e[n++];o.push((31&a)<<6|u)}else if((240&a)==224){var u=63&e[n++],c=63&e[n++];o.push((31&a)<<12|u<<6|c)}else if((248&a)==240){var u=63&e[n++],c=63&e[n++],l=(7&a)<<18|u<<12|c<<6|63&e[n++];l>65535&&(l-=65536,o.push(l>>>10&1023|55296),l=56320|1023&l),o.push(l)}else o.push(a);o.length>=4096&&(s+=String.fromCharCode.apply(String,o),o.length=0)}return o.length>0&&(s+=String.fromCharCode.apply(String,o)),s}var o=new TextDecoder,s=function(e,t){this.type=e,this.data=t},a=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),u=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,Object.create(t.prototype)),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:t.name}),n}return a(t,e),t}(Error);function c(e,t,r){var n=Math.floor(r/0x100000000);e.setUint32(t,n),e.setUint32(t+4,r)}function l(e,t){return 0x100000000*e.getInt32(t)+e.getUint32(t+4)}var f=-1;function d(e){var t=e.sec,r=e.nsec;if(t>=0&&r>=0&&t<=0x3ffffffff){if(0===r&&t<=0xffffffff){var n=new Uint8Array(4),i=new DataView(n.buffer);return i.setUint32(0,t),n}var o=t/0x100000000,n=new Uint8Array(8),i=new DataView(n.buffer);return i.setUint32(0,r<<2|3&o),i.setUint32(4,0xffffffff&t),n}var n=new Uint8Array(12),i=new DataView(n.buffer);return i.setUint32(0,r),c(i,4,t),n}function p(e){var t=e.getTime(),r=Math.floor(t/1e3),n=(t-1e3*r)*1e6,i=Math.floor(n/1e9);return{sec:r+i,nsec:n-1e9*i}}function h(e){return e instanceof Date?d(p(e)):null}function m(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:var r=t.getUint32(0),n=0;return{sec:r,nsec:0};case 8:var i=t.getUint32(0),r=(3&i)*0x100000000+t.getUint32(4),n=i>>>2;return{sec:r,nsec:n};case 12:var r=l(t,4),n=t.getUint32(0);return{sec:r,nsec:n};default:throw new u("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}function g(e){var t=m(e);return new Date(1e3*t.sec+t.nsec/1e6)}var y={type:-1,encode:h,decode:g},v=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(y)}return e.prototype.register=function(e){var t=e.type,r=e.encode,n=e.decode;if(t>=0)this.encoders[t]=r,this.decoders[t]=n;else{var i=1+t;this.builtInEncoders[i]=r,this.builtInDecoders[i]=n}},e.prototype.tryToEncode=function(e,t){for(var r=0;r<this.builtInEncoders.length;r++){var n=this.builtInEncoders[r];if(null!=n){var i=n(e,t);if(null!=i){var o=-1-r;return new s(o,i)}}}for(var r=0;r<this.encoders.length;r++){var n=this.encoders[r];if(null!=n){var i=n(e,t);if(null!=i){var o=r;return new s(o,i)}}}return e instanceof s?e:null},e.prototype.decode=function(e,t,r){var n=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return n?n(e,t,r):new s(t,e)},e.defaultCodec=new e,e}();function b(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}var w=function(){function e(e){var t,r,n,i,o,s,a,u;this.extensionCodec=null!==(t=null==e?void 0:e.extensionCodec)&&void 0!==t?t:v.defaultCodec,this.context=null==e?void 0:e.context,this.useBigInt64=null!==(r=null==e?void 0:e.useBigInt64)&&void 0!==r&&r,this.maxDepth=null!==(n=null==e?void 0:e.maxDepth)&&void 0!==n?n:100,this.initialBufferSize=null!==(i=null==e?void 0:e.initialBufferSize)&&void 0!==i?i:2048,this.sortKeys=null!==(o=null==e?void 0:e.sortKeys)&&void 0!==o&&o,this.forceFloat32=null!==(s=null==e?void 0:e.forceFloat32)&&void 0!==s&&s,this.ignoreUndefined=null!==(a=null==e?void 0:e.ignoreUndefined)&&void 0!==a&&a,this.forceIntegerToFloat=null!==(u=null==e?void 0:e.forceIntegerToFloat)&&void 0!==u&&u,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw Error("Too deep objects in depth ".concat(t));null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.useBigInt64&&"bigint"==typeof e?this.encodeBigInt64(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),r=new Uint8Array(t),n=new DataView(t);r.set(this.bytes),this.view=n,this.bytes=r},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<0x100000000?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-0x80000000?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)},e.prototype.encodeNumberAsFloat=function(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.encodeBigInt64=function(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<0x100000000)this.writeU8(219),this.writeU32(e);else throw Error("Too long string: ".concat(e," bytes in UTF-8"))},e.prototype.encodeString=function(e){var t,r,i,o=function(e){for(var t=e.length,r=0,n=0;n<t;){var i=e.charCodeAt(n++);if((0xffffff80&i)==0){r++;continue}if((0xfffff800&i)==0)r+=2;else{if(i>=55296&&i<=56319&&n<t){var o=e.charCodeAt(n);(64512&o)==56320&&(++n,i=((1023&i)<<10)+(1023&o)+65536)}(0xffff0000&i)==0?r+=3:r+=4}}return r}(e);this.ensureBufferSizeToWrite(5+o),this.writeStringHeader(o),t=e,r=this.bytes,i=this.pos,t.length>50?n.encodeInto(t,r.subarray(i)):function(e,t,r){for(var n=e.length,i=r,o=0;o<n;){var s=e.charCodeAt(o++);if((0xffffff80&s)==0){t[i++]=s;continue}if((0xfffff800&s)==0)t[i++]=s>>6&31|192;else{if(s>=55296&&s<=56319&&o<n){var a=e.charCodeAt(o);(64512&a)==56320&&(++o,s=((1023&s)<<10)+(1023&a)+65536)}(0xffff0000&s)==0?t[i++]=s>>12&15|224:(t[i++]=s>>18&7|240,t[i++]=s>>12&63|128),t[i++]=s>>6&63|128}t[i++]=63&s|128}}(t,r,i),this.pos+=o},e.prototype.encodeObject=function(e,t){var r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if("object"==typeof e)this.encodeMap(e,t);else throw Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)))},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<0x100000000)this.writeU8(198),this.writeU32(t);else throw Error("Too large binary: ".concat(t));var r=b(e);this.writeU8a(r)},e.prototype.encodeArray=function(e,t){var r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<0x100000000)this.writeU8(221),this.writeU32(r);else throw Error("Too large array: ".concat(r));for(var n=0;n<e.length;n++){var i=e[n];this.doEncode(i,t+1)}},e.prototype.countWithoutUndefined=function(e,t){for(var r=0,n=0;n<t.length;n++)void 0!==e[t[n]]&&r++;return r},e.prototype.encodeMap=function(e,t){var r=Object.keys(e);this.sortKeys&&r.sort();var n=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else if(n<0x100000000)this.writeU8(223),this.writeU32(n);else throw Error("Too large map object: ".concat(n));for(var i=0;i<r.length;i++){var o=r[i],s=e[o];this.ignoreUndefined&&void 0===s||(this.encodeString(o),this.doEncode(s,t+1))}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<0x100000000)this.writeU8(201),this.writeU32(t);else throw Error("Too large extension object: ".concat(t));this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){var t,r;this.ensureBufferSizeToWrite(8),t=this.view,r=this.pos,t.setUint32(r,e/0x100000000),t.setUint32(r+4,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),c(this.view,this.pos,e),this.pos+=8},e.prototype.writeBigUint64=function(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8},e.prototype.writeBigInt64=function(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8},e}();function x(e,t){return new w(t).encodeSharedRef(e)}function E(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}var _=function(){function e(e,t){void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var r=0;r<this.maxKeyLength;r++)this.caches.push([])}return e.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},e.prototype.find=function(e,t,r){var n=this.caches[r-1];e:for(var i=0;i<n.length;i++){for(var o=n[i],s=o.bytes,a=0;a<r;a++)if(s[a]!==e[t+a])continue e;return o.str}return null},e.prototype.store=function(e,t){var r=this.caches[e.length-1],n={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=n:r.push(n)},e.prototype.decode=function(e,t,r){var n=this.find(e,t,r);if(null!=n)return this.hit++,n;this.miss++;var o=i(e,t,r),s=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(s,o),o},e}(),P=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},S=function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,i,(t=e[r](t)).done,t.value)})}}},O=function(e){return this instanceof O?(this.v=e,this):new O(e)},j=function(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{var r;(r=i[e](t)).value instanceof O?Promise.resolve(r.value.v).then(u,c):l(o[0][2],r)}catch(e){l(o[0][3],e)}}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},U="array",R="map_key",A=new DataView(new ArrayBuffer(0)),T=new Uint8Array(A.buffer);try{A.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}var I=RangeError,M=new I("Insufficient data"),C=new _,k=function(){function e(e){var t,r,n,i,o,s,a;this.totalPos=0,this.pos=0,this.view=A,this.bytes=T,this.headByte=-1,this.stack=[],this.extensionCodec=null!==(t=null==e?void 0:e.extensionCodec)&&void 0!==t?t:v.defaultCodec,this.context=null==e?void 0:e.context,this.useBigInt64=null!==(r=null==e?void 0:e.useBigInt64)&&void 0!==r&&r,this.maxStrLength=null!==(n=null==e?void 0:e.maxStrLength)&&void 0!==n?n:0xffffffff,this.maxBinLength=null!==(i=null==e?void 0:e.maxBinLength)&&void 0!==i?i:0xffffffff,this.maxArrayLength=null!==(o=null==e?void 0:e.maxArrayLength)&&void 0!==o?o:0xffffffff,this.maxMapLength=null!==(s=null==e?void 0:e.maxMapLength)&&void 0!==s?s:0xffffffff,this.maxExtLength=null!==(a=null==e?void 0:e.maxExtLength)&&void 0!==a?a:0xffffffff,this.keyDecoder=(null==e?void 0:e.keyDecoder)!==void 0?e.keyDecoder:C}return e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},e.prototype.setBuffer=function(e){this.bytes=b(e),this.view=function(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=b(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}(this.bytes),this.pos=0},e.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),r=b(e),n=new Uint8Array(t.length+r.length);n.set(t),n.set(r,t.length),this.setBuffer(n)}else this.setBuffer(e)},e.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},e.prototype.createExtraByteError=function(e){var t=this.view,r=this.pos;return RangeError("Extra ".concat(t.byteLength-r," of ").concat(t.byteLength," byte(s) found at buffer[").concat(e,"]"))},e.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},e.prototype.decodeMulti=function(e){return P(this,function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:if(!this.hasRemaining(1))return[3,3];return[4,this.doDecodeSync()];case 2:return t.sent(),[3,1];case 3:return[2]}})},e.prototype.decodeAsync=function(e){var t,r,n,i,o,s,a,u,c,l,f;return u=this,c=void 0,l=void 0,f=function(){var u,c,l,f,d,p,h;return P(this,function(m){switch(m.label){case 0:u=!1,m.label=1;case 1:m.trys.push([1,6,7,12]),t=!0,r=S(e),m.label=2;case 2:return[4,r.next()];case 3:if(i=(n=m.sent()).done)return[3,5];a=n.value,t=!1;try{if(l=a,u)throw this.createExtraByteError(this.totalPos);this.appendBuffer(l);try{c=this.doDecodeSync(),u=!0}catch(e){if(!(e instanceof I))throw e}this.totalPos+=this.pos}finally{t=!0}m.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return o={error:m.sent()},[3,12];case 7:if(m.trys.push([7,,10,11]),!(!t&&!i&&(s=r.return)))return[3,9];return[4,s.call(r)];case 8:m.sent(),m.label=9;case 9:return[3,11];case 10:if(o)throw o.error;return[7];case 11:return[7];case 12:if(u){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,c]}throw f=this,d=f.headByte,p=f.pos,h=f.totalPos,RangeError("Insufficient data in parsing ".concat(E(d)," at ").concat(h," (").concat(p," in the current buffer)"))}})},new(l||(l=Promise))(function(e,t){function r(e){try{i(f.next(e))}catch(e){t(e)}}function n(e){try{i(f.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):((i=t.value)instanceof l?i:new l(function(e){e(i)})).then(r,n)}i((f=f.apply(u,c||[])).next())})},e.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},e.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},e.prototype.decodeMultiAsync=function(e,t){return j(this,arguments,function(){var r,n,i,o,s,a,u,c,l,f,d;return P(this,function(p){switch(p.label){case 0:r=t,n=-1,p.label=1;case 1:p.trys.push([1,15,16,21]),i=!0,o=S(e),p.label=2;case 2:return[4,O(o.next())];case 3:if(c=(s=p.sent()).done)return[3,14];d=s.value,i=!1,p.label=4;case 4:if(p.trys.push([4,,12,13]),a=d,t&&0===n)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a),r&&(n=this.readArraySize(),r=!1,this.complete()),p.label=5;case 5:p.trys.push([5,10,,11]),p.label=6;case 6:return[4,O(this.doDecodeSync())];case 7:return[4,p.sent()];case 8:if(p.sent(),0==--n)return[3,9];return[3,6];case 9:return[3,11];case 10:if(!((u=p.sent())instanceof I))throw u;return[3,11];case 11:return this.totalPos+=this.pos,[3,13];case 12:return i=!0,[7];case 13:return[3,2];case 14:return[3,21];case 15:return l={error:p.sent()},[3,21];case 16:if(p.trys.push([16,,19,20]),!(!i&&!c&&(f=o.return)))return[3,18];return[4,O(f.call(o))];case 17:p.sent(),p.label=18;case 18:return[3,20];case 19:if(l)throw l.error;return[7];case 20:return[7];case 21:return[2]}})})},e.prototype.doDecodeSync=function(){t:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192){if(e<128)t=e;else if(e<144){var r=e-128;if(0!==r){this.pushMapState(r),this.complete();continue}t={}}else if(e<160){var r=e-144;if(0!==r){this.pushArrayState(r),this.complete();continue}t=[]}else{var n=e-160;t=this.decodeUtf8String(n,0)}}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===e){var n=this.lookU8();t=this.decodeUtf8String(n,1)}else if(218===e){var n=this.lookU16();t=this.decodeUtf8String(n,2)}else if(219===e){var n=this.lookU32();t=this.decodeUtf8String(n,4)}else if(220===e){var r=this.readU16();if(0!==r){this.pushArrayState(r),this.complete();continue}t=[]}else if(221===e){var r=this.readU32();if(0!==r){this.pushArrayState(r),this.complete();continue}t=[]}else if(222===e){var r=this.readU16();if(0!==r){this.pushMapState(r),this.complete();continue}t={}}else if(223===e){var r=this.readU32();if(0!==r){this.pushMapState(r),this.complete();continue}t={}}else if(196===e){var r=this.lookU8();t=this.decodeBinary(r,1)}else if(197===e){var r=this.lookU16();t=this.decodeBinary(r,2)}else if(198===e){var r=this.lookU32();t=this.decodeBinary(r,4)}else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e){var r=this.lookU8();t=this.decodeExtension(r,1)}else if(200===e){var r=this.lookU16();t=this.decodeExtension(r,2)}else if(201===e){var r=this.lookU32();t=this.decodeExtension(r,4)}else throw new u("Unrecognized type byte: ".concat(E(e)));this.complete();for(var i=this.stack;i.length>0;){var o,s=i[i.length-1];if(s.type===U){if(s.array[s.position]=t,s.position++,s.position===s.size)i.pop(),t=s.array;else continue t}else if(s.type===R){if(!("string"==typeof(o=t)||"number"==typeof o))throw new u("The type of key must be string or number but "+typeof t);if("__proto__"===t)throw new u("The key __proto__ is not allowed");s.key=t,s.type="map_value";continue t}else if(s.map[s.key]=t,s.readCount++,s.readCount===s.size)i.pop(),t=s.map;else{s.key=null,s.type=R;continue t}}return t}},e.prototype.readHeadByte=function(){return -1===this.headByte&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=-1},e.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new u("Unrecognized array type byte: ".concat(E(e)))}},e.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new u("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:R,size:e,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new u("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:U,size:e,array:Array(e),position:0})},e.prototype.decodeUtf8String=function(e,t){if(e>this.maxStrLength)throw new u("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw M;var r,n,s,a,c,l,f=this.pos+t;return l=this.stateIsMapKey()&&(null===(c=this.keyDecoder)||void 0===c?void 0:c.canBeCached(e))?this.keyDecoder.decode(this.bytes,f,e):(r=this.bytes,n=f,(s=e)>200?(a=r.subarray(n,n+s),o.decode(a)):i(r,n,s)),this.pos+=t+e,l},e.prototype.stateIsMapKey=function(){return this.stack.length>0&&this.stack[this.stack.length-1].type===R},e.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new u("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw M;var r=this.pos+t,n=this.bytes.subarray(r,r+e);return this.pos+=t+e,n},e.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new u("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var r=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,r,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},e.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},e.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},e.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},e.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},e.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},e.prototype.readU64=function(){var e,t,r=(e=this.view,t=this.pos,0x100000000*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,r},e.prototype.readI64=function(){var e=l(this.view,this.pos);return this.pos+=8,e},e.prototype.readU64AsBigInt=function(){var e=this.view.getBigUint64(this.pos);return this.pos+=8,e},e.prototype.readI64AsBigInt=function(){var e=this.view.getBigInt64(this.pos);return this.pos+=8,e},e.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},e.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},e}();function $(e,t){return new k(t).decode(e)}function L(e,t){return new k(t).decodeMulti(e)}var N=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},B=function(e){return this instanceof B?(this.v=e,this):new B(e)},D=function(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{var r;(r=i[e](t)).value instanceof B?Promise.resolve(r.value.v).then(u,c):l(o[0][2],r)}catch(e){l(o[0][3],e)}}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}};function z(e){return null!=e[Symbol.asyncIterator]?e:function(e){return D(this,arguments,function(){var t,r,n,i;return N(this,function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,B(t.read())];case 3:if(n=(r=o.sent()).done,i=r.value,!n)return[3,5];return[4,B(void 0)];case 4:return[2,o.sent()];case 5:return function(e){if(null==e)throw Error("Assertion Failure: value must not be null nor undefined")}(i),[4,B(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}(e)}var F=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};function q(e,t){var r,n,i,o;return r=this,n=void 0,i=void 0,o=function(){var r;return F(this,function(n){return r=z(e),[2,new k(t).decodeAsync(r)]})},new(i||(i=Promise))(function(e,t){function s(e){try{u(o.next(e))}catch(e){t(e)}}function a(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(s,a)}u((o=o.apply(r,n||[])).next())})}function W(e,t){var r=z(e);return new k(t).decodeArrayStream(r)}function H(e,t){var r=z(e);return new k(t).decodeStream(r)}var K=void 0},9356:e=>{"use strict";e.exports=JSON.parse('{"name":"@fal-ai/client","description":"The fal.ai client for JavaScript and TypeScript","version":"1.2.1","license":"MIT","repository":{"type":"git","url":"https://github.com/fal-ai/fal-js.git","directory":"libs/client"},"keywords":["fal","client","ai","ml","typescript"],"exports":{".":"./src/index.js","./endpoints":"./src/types/endpoints.js"},"typesVersions":{"*":{"endpoints":["src/types/endpoints.d.ts"]}},"main":"./src/index.js","types":"./src/index.d.ts","dependencies":{"@msgpack/msgpack":"^3.0.0-beta2","eventsource-parser":"^1.1.2","robot3":"^0.4.1"},"engines":{"node":">=18.0.0"},"type":"commonjs"}')}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[638,695],()=>r(4282));module.exports=n})();