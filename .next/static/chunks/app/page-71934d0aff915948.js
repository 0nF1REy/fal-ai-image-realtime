(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{9137:(e,t,n)=>{Promise.resolve().then(n.bind(n,5424))},5424:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var r=n(5155),a=n(2115),i=n(9958),l=n(5565);i.fal.config({proxyUrl:"/api/proxy"});let s={_force_msgpack:new Uint8Array([]),image_size:"square_hd",num_inference_steps:2,num_images:1,enable_safety_checker:!0,sync_mode:!0};function o(){return Math.floor(1e7*Math.random()).toFixed(0)}let c=()=>{let[e,t]=(0,a.useState)(""),[n,c]=(0,a.useState)(o()),[u,m]=(0,a.useState)(""),[h,d]=(0,a.useState)(null),g=i.fal.realtime.connect("fal-ai/fast-lightning-sdxl",{connectionKey:"lightning-sdxl",throttleInterval:64,onResult:e=>{console.log(e);let t=new Blob([e.images[0].content],{type:"image/jpeg"});m(URL.createObjectURL(t)),d(e.timings.inference)},onError:e=>{console.error(e)}}),p=(0,a.useRef)(),f=e=>{p.current&&clearTimeout(p.current),t(e);let r={...s,prompt:e,seed:n?Number(n):Number(o())};p.current=setTimeout(()=>{g.send(r)},500)};return(0,r.jsxs)("main",{children:[(0,r.jsx)("h1",{children:"Real-time image generation by AI"}),(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"text",placeholder:"Enter text to generate an image",name:"prompt",value:e,onChange:e=>f(e.target.value)})}),h&&(0,r.jsxs)("p",{children:["Inference Time: ",(1e3*h).toFixed(0),"ms - Seed: ",n]}),u&&(0,r.jsx)(l.default,{src:u,width:1024,height:1024,style:{width:"100%",height:"auto"},alt:"realtime-image",priority:!0}),(0,r.jsx)("h4",{children:e})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[938,441,517,358],()=>t(9137)),_N_E=e.O()}]);